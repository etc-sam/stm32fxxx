<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32F103_IMU6050App: uart/uart.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">STM32F103_IMU6050App<span id="projectnumber">&#160;V1.0</span>
   </div>
   <div id="projectbrief">README.md</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('uart_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">uart.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="init_8h_source.html">init.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for uart.c:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c__incl.png" border="0" usemap="#auart_2uart_8c" alt=""/></div>
</div>
</div>
<p><a href="uart_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae682f07c38787d586f1a984efe589f03"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ae682f07c38787d586f1a984efe589f03">uart_reg_read_byte</a> (USART_TypeDef *usartx)</td></tr>
<tr class="memdesc:ae682f07c38787d586f1a984efe589f03"><td class="mdescLeft">&#160;</td><td class="mdescRight">read a byte to the uart data register  <br /></td></tr>
<tr class="separator:ae682f07c38787d586f1a984efe589f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26ccbf97bca6fb1bb89fd21cbcc18aaf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a26ccbf97bca6fb1bb89fd21cbcc18aaf">uart_reg_write_byte</a> (USART_TypeDef *usartx, uint8_t val)</td></tr>
<tr class="memdesc:a26ccbf97bca6fb1bb89fd21cbcc18aaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">write a byte to the uart data register  <br /></td></tr>
<tr class="separator:a26ccbf97bca6fb1bb89fd21cbcc18aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88cd4476479dade3845bcb39b284da5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#af88cd4476479dade3845bcb39b284da5">uart_reg_write_buffer</a> (USART_TypeDef *usartx, uint8_t *buff, uint16_t length)</td></tr>
<tr class="memdesc:af88cd4476479dade3845bcb39b284da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">write an array of data to the uart transmit buffer  <br /></td></tr>
<tr class="separator:af88cd4476479dade3845bcb39b284da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5a7af14bdf878dcc0ed47c9f5ace57f"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ae5a7af14bdf878dcc0ed47c9f5ace57f">endswith_delimiter</a> (volatile uint8_t *buffer, uint8_t Buffer_length, uint8_t *delimiter)</td></tr>
<tr class="memdesc:ae5a7af14bdf878dcc0ed47c9f5ace57f"><td class="mdescLeft">&#160;</td><td class="mdescRight">configures the uart module  <br /></td></tr>
<tr class="separator:ae5a7af14bdf878dcc0ed47c9f5ace57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6d62a850547ad7ac50ecdb38c4b87cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ab6d62a850547ad7ac50ecdb38c4b87cf">uart_reset</a> (void)</td></tr>
<tr class="memdesc:ab6d62a850547ad7ac50ecdb38c4b87cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">resets the received buffer  <br /></td></tr>
<tr class="separator:ab6d62a850547ad7ac50ecdb38c4b87cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2125ef719f1e7e313d8a05c3359498"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a8d2125ef719f1e7e313d8a05c3359498">uart_rx_buffer_add</a> (uint8_t val)</td></tr>
<tr class="memdesc:a8d2125ef719f1e7e313d8a05c3359498"><td class="mdescLeft">&#160;</td><td class="mdescRight">append the new received byte to the receive buffer  <br /></td></tr>
<tr class="separator:a8d2125ef719f1e7e313d8a05c3359498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b9cb1a8375a00c400761887cf3ccb2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a47b9cb1a8375a00c400761887cf3ccb2">startswith_header</a> (uint8_t *buffer, uint8_t Buffer_length, uint8_t *header)</td></tr>
<tr class="memdesc:a47b9cb1a8375a00c400761887cf3ccb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks how the received message on the uart begins with  <br /></td></tr>
<tr class="separator:a47b9cb1a8375a00c400761887cf3ccb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59754afdf4c7e6d6af2764eb67b43c90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a59754afdf4c7e6d6af2764eb67b43c90">uart_receive_start</a> (void)</td></tr>
<tr class="memdesc:a59754afdf4c7e6d6af2764eb67b43c90"><td class="mdescLeft">&#160;</td><td class="mdescRight">puts the uart in the receive mode  <br /></td></tr>
<tr class="separator:a59754afdf4c7e6d6af2764eb67b43c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae007118b43d22a6f5884239f6030f28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#aae007118b43d22a6f5884239f6030f28">uart_receive_stop</a> (void)</td></tr>
<tr class="memdesc:aae007118b43d22a6f5884239f6030f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">stop the current receiving message <br  />
  <br /></td></tr>
<tr class="separator:aae007118b43d22a6f5884239f6030f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36af2d6d17036bd42ae38360fa45a3a6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a36af2d6d17036bd42ae38360fa45a3a6">uart_islistening</a> ()</td></tr>
<tr class="memdesc:a36af2d6d17036bd42ae38360fa45a3a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if the uart in the receive mode and listens  <br /></td></tr>
<tr class="separator:a36af2d6d17036bd42ae38360fa45a3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c8856b6847b6fa9781d9ed60dd74c0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a83c8856b6847b6fa9781d9ed60dd74c0">uart_send_byte</a> (USART_TypeDef *usartx, uint8_t byte)</td></tr>
<tr class="memdesc:a83c8856b6847b6fa9781d9ed60dd74c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">sends one byte on the uart  <br /></td></tr>
<tr class="separator:a83c8856b6847b6fa9781d9ed60dd74c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb05ddfce6a486b2d05d53e4015d0664"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#adb05ddfce6a486b2d05d53e4015d0664">uart_send_buffer</a> (USART_TypeDef *usartx, uint8_t *buf, uint16_t buf_size)</td></tr>
<tr class="memdesc:adb05ddfce6a486b2d05d53e4015d0664"><td class="mdescLeft">&#160;</td><td class="mdescRight">sends an array of bytes on the uart  <br /></td></tr>
<tr class="separator:adb05ddfce6a486b2d05d53e4015d0664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b7d649121729e74856924670dc4ad7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a29b7d649121729e74856924670dc4ad7">uart_send_message</a> (USART_TypeDef *usartx, uint8_t *buff, uint16_t length)</td></tr>
<tr class="memdesc:a29b7d649121729e74856924670dc4ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">sends a message on the uart  <br /></td></tr>
<tr class="separator:a29b7d649121729e74856924670dc4ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4e07aa2988d16a9a6fcf721a6a0f9e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a> (USART_TypeDef *usartx, char *str)</td></tr>
<tr class="memdesc:ac4e07aa2988d16a9a6fcf721a6a0f9e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">a generic print message on the uart  <br /></td></tr>
<tr class="separator:ac4e07aa2988d16a9a6fcf721a6a0f9e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad211b1e1d3038dc260201e9e5fe5aa3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ad211b1e1d3038dc260201e9e5fe5aa3f">uart_println</a> (USART_TypeDef *usartx, char *str)</td></tr>
<tr class="memdesc:ad211b1e1d3038dc260201e9e5fe5aa3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">a generic println message on the uart  <br /></td></tr>
<tr class="separator:ad211b1e1d3038dc260201e9e5fe5aa3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55520d2a447749cd2d1ee3c305dd43fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a55520d2a447749cd2d1ee3c305dd43fe">uart_print_integer</a> (USART_TypeDef *usartx, uint32_t dword, uint8_t base)</td></tr>
<tr class="separator:a55520d2a447749cd2d1ee3c305dd43fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f2848e7ab3d7f4838d8852adf554311"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a5f2848e7ab3d7f4838d8852adf554311">uart_print_float</a> (USART_TypeDef *usartx, float val, uint8_t digits)</td></tr>
<tr class="separator:a5f2848e7ab3d7f4838d8852adf554311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa335e75dbcf8f3b495ba79e9de727e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a9fa335e75dbcf8f3b495ba79e9de727e">uart_print_Array</a> (USART_TypeDef *usartx, uint8_t *data, uint8_t len)</td></tr>
<tr class="memdesc:a9fa335e75dbcf8f3b495ba79e9de727e"><td class="mdescLeft">&#160;</td><td class="mdescRight">a generic print message on the uart in hexadecimal format  <br /></td></tr>
<tr class="separator:a9fa335e75dbcf8f3b495ba79e9de727e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaae77997a4de964e6a0d983aa7c86fc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#aaae77997a4de964e6a0d983aa7c86fc2">uart_println_Array</a> (USART_TypeDef *usartx, uint8_t *data, uint8_t len)</td></tr>
<tr class="memdesc:aaae77997a4de964e6a0d983aa7c86fc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">a generic println message on the uart in hexadecimal format  <br /></td></tr>
<tr class="separator:aaae77997a4de964e6a0d983aa7c86fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f5996cfbcef121abc486e732b208c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a01f5996cfbcef121abc486e732b208c7">uart_init</a> ()</td></tr>
<tr class="memdesc:a01f5996cfbcef121abc486e732b208c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes the uart module  <br /></td></tr>
<tr class="separator:a01f5996cfbcef121abc486e732b208c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e51343725890efb4ba68ba64d44299"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a14e51343725890efb4ba68ba64d44299">uart_receive</a> (USART_TypeDef *usartx)</td></tr>
<tr class="memdesc:a14e51343725890efb4ba68ba64d44299"><td class="mdescLeft">&#160;</td><td class="mdescRight">performs areceive operation of one byte on uart  <br /></td></tr>
<tr class="separator:a14e51343725890efb4ba68ba64d44299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac0ee4698cc81c9f8bf880c564cf068"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#afac0ee4698cc81c9f8bf880c564cf068">uart_data_is_available</a> (void)</td></tr>
<tr class="memdesc:afac0ee4698cc81c9f8bf880c564cf068"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if data is available  <br /></td></tr>
<tr class="separator:afac0ee4698cc81c9f8bf880c564cf068"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aad8c7a7716c9cbbd7126ff5f1d961c87"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#aad8c7a7716c9cbbd7126ff5f1d961c87">uart_state</a> =<a class="el" href="uart_8h.html#aa4b53706684555be8615863066899d99a56627f80c174a43b31fad66b23478bae">UART_WAIT</a></td></tr>
<tr class="memdesc:aad8c7a7716c9cbbd7126ff5f1d961c87"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="uart_8c.html">uart.c</a>  <br /></td></tr>
<tr class="separator:aad8c7a7716c9cbbd7126ff5f1d961c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a115e1c5ac83f8480d6837613afdda17a"><td class="memItemLeft" align="right" valign="top">volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a115e1c5ac83f8480d6837613afdda17a">uart_ticks</a> =0</td></tr>
<tr class="separator:a115e1c5ac83f8480d6837613afdda17a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1504145ecbe755bddce6ea0a213516"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a1b1504145ecbe755bddce6ea0a213516">rx_index</a> =0</td></tr>
<tr class="separator:a1b1504145ecbe755bddce6ea0a213516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffe643c943365b861711aca5d59585b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a9ffe643c943365b861711aca5d59585b">rx_buffer</a> [<a class="el" href="uart_8h.html#a0d57378e32bf8278011460740bc29f7f">UART_BUFFER_SIZE</a>] ={0}</td></tr>
<tr class="separator:a9ffe643c943365b861711aca5d59585b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ace0c1ec7fa336ad3837756c0bcef6"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a58ace0c1ec7fa336ad3837756c0bcef6">rx_buffer_length</a> =0</td></tr>
<tr class="separator:a58ace0c1ec7fa336ad3837756c0bcef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c972eff98a56afe0099c835d610611"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#aa7c972eff98a56afe0099c835d610611">buffer_overflow</a> =0</td></tr>
<tr class="separator:aa7c972eff98a56afe0099c835d610611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668f5a710c6eda8b41de0243c107d09f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgpio__t.html">gpio_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a668f5a710c6eda8b41de0243c107d09f">uart_tx</a> ={GPIOA,9}</td></tr>
<tr class="separator:a668f5a710c6eda8b41de0243c107d09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8f8265da8593e83c706d12fc2604a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgpio__t.html">gpio_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#acb8f8265da8593e83c706d12fc2604a5">uart_rx</a> ={GPIOA,10}</td></tr>
<tr class="separator:acb8f8265da8593e83c706d12fc2604a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa46f44bc308a1de826446c600c2934e"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#afa46f44bc308a1de826446c600c2934e">uart_delimiter</a> [<a class="el" href="uart_8h.html#a67aab3010ec692f0dafb13da30723dca">UART_DELIMITER_SIZE</a>] ={0x55,0xaa,0x55,0xaa}</td></tr>
<tr class="separator:afa46f44bc308a1de826446c600c2934e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae5a7af14bdf878dcc0ed47c9f5ace57f" name="ae5a7af14bdf878dcc0ed47c9f5ace57f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5a7af14bdf878dcc0ed47c9f5ace57f">&#9670;&#160;</a></span>endswith_delimiter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t endswith_delimiter </td>
          <td>(</td>
          <td class="paramtype">volatile uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Buffer_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>delimiter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>configures the uart module </p>
<p>checks how the received message on the uart ends with</p>
<p>initialize the receive mask interrupt uart reset</p>
<p>checks if the delimiter of received message on the uart has received and matches with predefined delimiter</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>array of bytes i.e. data message received on the </td></tr>
    <tr><td class="paramname">Buffer_length</td><td>the length of the message array of bytes </td></tr>
    <tr><td class="paramname">delimiter</td><td>a pointer to predefined delimiter for the command message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>neither delimiter has received yet nor a correct delimiter received </td></tr>
    <tr><td class="paramname">1</td><td>a correct delimiter has received </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00299">299</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  300</span>{</div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordflow">if</span>(Buffer_length&lt;<a class="code hl_define" href="uart_8h.html#a67aab3010ec692f0dafb13da30723dca">UART_DELIMITER_SIZE</a>)</div>
<div class="line"><span class="lineno">  302</span>     <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">for</span>(uint8_t i=1;i&lt;=<a class="code hl_define" href="uart_8h.html#a67aab3010ec692f0dafb13da30723dca">UART_DELIMITER_SIZE</a>;i++)</div>
<div class="line"><span class="lineno">  304</span>     <span class="keywordflow">if</span>(buffer[Buffer_length-i]!=delimiter[<a class="code hl_define" href="uart_8h.html#a67aab3010ec692f0dafb13da30723dca">UART_DELIMITER_SIZE</a>-i])</div>
<div class="line"><span class="lineno">  305</span>      <span class="keywordflow">return</span> 0;   </div>
<div class="line"><span class="lineno">  306</span> <span class="keywordflow">return</span> 1;  </div>
<div class="line"><span class="lineno">  307</span>}</div>
<div class="ttc" id="auart_8h_html_a67aab3010ec692f0dafb13da30723dca"><div class="ttname"><a href="uart_8h.html#a67aab3010ec692f0dafb13da30723dca">UART_DELIMITER_SIZE</a></div><div class="ttdeci">#define UART_DELIMITER_SIZE</div><div class="ttdoc">uart.h</div><div class="ttdef"><b>Definition:</b> <a href="uart_8h_source.html#l00025">uart.h:25</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8h_source.html#l00025">UART_DELIMITER_SIZE</a>.</p>

</div>
</div>
<a id="a47b9cb1a8375a00c400761887cf3ccb2" name="a47b9cb1a8375a00c400761887cf3ccb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47b9cb1a8375a00c400761887cf3ccb2">&#9670;&#160;</a></span>startswith_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t startswith_header </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Buffer_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks how the received message on the uart begins with </p>
<p>checks if the header of received message on the uart is greater than the minimum command legth then it compare the first part with a predefined header</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>array of bytes i.e. data message received on the </td></tr>
    <tr><td class="paramname">Buffer_length</td><td>the length of the message array of bytes </td></tr>
    <tr><td class="paramname">header</td><td>a pointer to predefined header for the command message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00276">276</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  277</span>{</div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">if</span>(Buffer_length&lt;<a class="code hl_define" href="uart_8h.html#acf1498b6b9c621d4404543e2c9d211e7">UART_HEADER_SIZE</a>)</div>
<div class="line"><span class="lineno">  279</span>     <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordflow">for</span>(uint8_t i=1;i&lt;=<a class="code hl_define" href="uart_8h.html#acf1498b6b9c621d4404543e2c9d211e7">UART_HEADER_SIZE</a>;i++)</div>
<div class="line"><span class="lineno">  281</span>     <span class="keywordflow">if</span>(buffer[i]!=header[i])</div>
<div class="line"><span class="lineno">  282</span>      <span class="keywordflow">return</span> 0;   </div>
<div class="line"><span class="lineno">  283</span> <span class="keywordflow">return</span> 1;  </div>
<div class="line"><span class="lineno">  284</span>}</div>
<div class="ttc" id="auart_8h_html_acf1498b6b9c621d4404543e2c9d211e7"><div class="ttname"><a href="uart_8h.html#acf1498b6b9c621d4404543e2c9d211e7">UART_HEADER_SIZE</a></div><div class="ttdeci">#define UART_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="uart_8h_source.html#l00026">uart.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8h_source.html#l00026">UART_HEADER_SIZE</a>.</p>

</div>
</div>
<a id="afac0ee4698cc81c9f8bf880c564cf068" name="afac0ee4698cc81c9f8bf880c564cf068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afac0ee4698cc81c9f8bf880c564cf068">&#9670;&#160;</a></span>uart_data_is_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_data_is_available </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks if data is available </p>
<p>checks if the data on the uart is available</p>
<p>it checks if a complete command message has received note that each command message should ends witha space and ; == " ;" </p><dl class="section return"><dt>Returns</dt><dd>uint8_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00642">642</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  643</span>{</div>
<div class="line"><span class="lineno">  644</span> <span class="keywordtype">char</span> * delim=<span class="stringliteral">&quot; ;&quot;</span>;</div>
<div class="line"><span class="lineno">  645</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="uart_8c.html#a58ace0c1ec7fa336ad3837756c0bcef6">rx_buffer_length</a>!=0)</div>
<div class="line"><span class="lineno">  646</span> {   </div>
<div class="line"><span class="lineno">  647</span>    <span class="keyword">const</span> uint8_t * tmp=0;<span class="comment">//(uint8_t *) memmem((uint8_t *)rx_buffer,rx_buffer_length,(uint8_t *)delim,sizeof(delim));</span></div>
<div class="line"><span class="lineno">  648</span>   <span class="keywordflow">if</span>(tmp!=NULL)</div>
<div class="line"><span class="lineno">  649</span>     <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  650</span> }</div>
<div class="line"><span class="lineno">  651</span>  </div>
<div class="line"><span class="lineno">  652</span> <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  653</span>}</div>
<div class="ttc" id="auart_8c_html_a58ace0c1ec7fa336ad3837756c0bcef6"><div class="ttname"><a href="uart_8c.html#a58ace0c1ec7fa336ad3837756c0bcef6">rx_buffer_length</a></div><div class="ttdeci">volatile uint8_t rx_buffer_length</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00027">uart.c:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00027">rx_buffer_length</a>.</p>

<p class="reference">Referenced by <a class="el" href="system-task_8c_source.html#l00063">uart_task()</a>.</p>

</div>
</div>
<a id="a01f5996cfbcef121abc486e732b208c7" name="a01f5996cfbcef121abc486e732b208c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01f5996cfbcef121abc486e732b208c7">&#9670;&#160;</a></span>uart_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initializes the uart module </p>
<p>initialiaze the usart module</p>
<p>initializes the uart module and configure the buad rate and the message format such as start bit, parity , stop bit and the charactersize , it also resets the receive buffer size of the uart </p><dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00539">539</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  540</span>{</div>
<div class="line"><span class="lineno">  541</span>  </div>
<div class="line"><span class="lineno">  542</span>  <a class="code hl_function" href="uart_8h.html#a704049c8901d2725a8da62274a9cab40">USART1_init</a>();</div>
<div class="line"><span class="lineno">  543</span><span class="comment">// pins initialization</span></div>
<div class="line"><span class="lineno">  544</span><span class="comment">//  uart_CNTA_DIR.tx=1;   // set as output pin</span></div>
<div class="line"><span class="lineno">  545</span><span class="comment">//  uart_CNTA_DIR.rx=0;   // set as an input pin</span></div>
<div class="line"><span class="lineno">  546</span><span class="comment">//  uart_CNTA_PORT.tx=1;  // set to High State</span></div>
<div class="line"><span class="lineno">  547</span><span class="comment">//  uart_CNTA_PORT.rx=1;  // Enable Weak up resistor</span></div>
<div class="line"><span class="lineno">  548</span>  </div>
<div class="line"><span class="lineno">  549</span><span class="comment">//to change uart configuration such buad rate,data frame length ,stop bits,  parity</span></div>
<div class="line"><span class="lineno">  550</span><span class="comment">// based on the static options provided at the top of this file </span></div>
<div class="line"><span class="lineno">  551</span> <span class="comment">//    uart_configure();</span></div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span> <span class="comment">// Reset USART buffer</span></div>
<div class="line"><span class="lineno">  554</span>    <a class="code hl_function" href="uart_8c.html#ab6d62a850547ad7ac50ecdb38c4b87cf">uart_reset</a>();</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span> }</div>
<div class="ttc" id="auart_8c_html_ab6d62a850547ad7ac50ecdb38c4b87cf"><div class="ttname"><a href="uart_8c.html#ab6d62a850547ad7ac50ecdb38c4b87cf">uart_reset</a></div><div class="ttdeci">void uart_reset(void)</div><div class="ttdoc">resets the received buffer</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00238">uart.c:238</a></div></div>
<div class="ttc" id="auart_8h_html_a704049c8901d2725a8da62274a9cab40"><div class="ttname"><a href="uart_8h.html#a704049c8901d2725a8da62274a9cab40">USART1_init</a></div><div class="ttdeci">void USART1_init(void)</div><div class="ttdoc">uart-common.c</div><div class="ttdef"><b>Definition:</b> <a href="uart__com_8c_source.html#l00054">uart_com.c:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00238">uart_reset()</a>, and <a class="el" href="uart__com_8c_source.html#l00054">USART1_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="system_8c_source.html#l00033">system_init()</a>.</p>

</div>
</div>
<a id="a36af2d6d17036bd42ae38360fa45a3a6" name="a36af2d6d17036bd42ae38360fa45a3a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36af2d6d17036bd42ae38360fa45a3a6">&#9670;&#160;</a></span>uart_islistening()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_islistening </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks if the uart in the receive mode and listens </p>
<p>checks if the uart in the receive mode and the receive complete interrupt mask bit has been activated </p><dl class="section return"><dt>Returns</dt><dd>uint8_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00363">363</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  364</span>{   </div>
<div class="line"><span class="lineno">  365</span> <span class="comment">//if(bit_is_set(UCSR0B,RXEN0) &amp;&amp; bit_is_set(UCSR0B,RXCIE0))    </span></div>
<div class="line"><span class="lineno">  366</span><span class="comment">// if (uart_control_reg.rx_enable &amp;&amp; uart_control_reg.receive_complete_ie)</span></div>
<div class="line"><span class="lineno">  367</span><span class="comment">//   return 1;</span></div>
<div class="line"><span class="lineno">  368</span> <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  369</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4e07aa2988d16a9a6fcf721a6a0f9e6" name="ac4e07aa2988d16a9a6fcf721a6a0f9e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e07aa2988d16a9a6fcf721a6a0f9e6">&#9670;&#160;</a></span>uart_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_print </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a generic print message on the uart </p>
<p>similar to uart_send_buffer, except it handles characters as an ASCII data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>a pointer to character string </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00433">433</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  434</span>{</div>
<div class="line"><span class="lineno">  435</span>    <a class="code hl_function" href="uart_8c.html#adb05ddfce6a486b2d05d53e4015d0664">uart_send_buffer</a>(usartx ,(uint8_t*)str,strlen(str));</div>
<div class="line"><span class="lineno">  436</span>}</div>
<div class="ttc" id="auart_8c_html_adb05ddfce6a486b2d05d53e4015d0664"><div class="ttname"><a href="uart_8c.html#adb05ddfce6a486b2d05d53e4015d0664">uart_send_buffer</a></div><div class="ttdeci">void uart_send_buffer(USART_TypeDef *usartx, uint8_t *buf, uint16_t buf_size)</div><div class="ttdoc">sends an array of bytes on the uart</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00397">uart.c:397</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00397">uart_send_buffer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="i2c_8c_source.html#l00123">i2c_uart_print()</a>, <a class="el" href="mpu6050_8c_source.html#l00071">mpu6050_init()</a>, <a class="el" href="mpu6050_8c_source.html#l00572">mpu6050_set_hpf()</a>, <a class="el" href="mpu6050_8c_source.html#l00544">mpu6050_set_lpf()</a>, <a class="el" href="system-task_8c_source.html#l00089">mpu6050_task()</a>, <a class="el" href="mpu6050_8c_source.html#l00877">mpu6050_uart_print_Accelometer()</a>, <a class="el" href="mpu6050_8c_source.html#l00888">mpu6050_uart_print_Gyroscope()</a>, <a class="el" href="mpu6050_8c_source.html#l00913">mpu6050_uart_print_raw_Accelometer()</a>, <a class="el" href="mpu6050_8c_source.html#l00971">mpu6050_uart_print_raw_Array()</a>, <a class="el" href="mpu6050_8c_source.html#l00935">mpu6050_uart_print_raw_Gyroscope()</a>, <a class="el" href="mpu6050_8c_source.html#l00958">mpu6050_uart_print_raw_Temperature()</a>, <a class="el" href="mpu6050_8c_source.html#l00899">mpu6050_uart_print_Temperature()</a>, <a class="el" href="uart_8c_source.html#l00495">uart_print_Array()</a>, <a class="el" href="uart_8c_source.html#l00473">uart_print_float()</a>, <a class="el" href="uart_8c_source.html#l00459">uart_print_integer()</a>, <a class="el" href="uart_8c_source.html#l00518">uart_println_Array()</a>, and <a class="el" href="system-task_8c_source.html#l00063">uart_task()</a>.</p>

</div>
</div>
<a id="a9fa335e75dbcf8f3b495ba79e9de727e" name="a9fa335e75dbcf8f3b495ba79e9de727e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fa335e75dbcf8f3b495ba79e9de727e">&#9670;&#160;</a></span>uart_print_Array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_print_Array </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a generic print message on the uart in hexadecimal format </p>
<p>a generic print message as hexadecimal format on the uart</p>
<p>similar to uart_send_buffer, except it converrs ASCII data to hexadecimal format</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>a pointer to start of message buffer </td></tr>
    <tr><td class="paramname">len</td><td>the length of the buffer message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00495">495</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  496</span>{</div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordtype">char</span> buf[16]=<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  498</span>    uint8_t val=0;</div>
<div class="line"><span class="lineno">  499</span>   <span class="keywordflow">for</span>(uint8_t i=0;i&lt;len;i++)</div>
<div class="line"><span class="lineno">  500</span>   {</div>
<div class="line"><span class="lineno">  501</span>      val=data[i];</div>
<div class="line"><span class="lineno">  502</span>       <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx ,<span class="stringliteral">&quot; 0x&quot;</span>);</div>
<div class="line"><span class="lineno">  503</span>       itoa(val,buf,16);</div>
<div class="line"><span class="lineno">  504</span>       <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx ,buf);    </div>
<div class="line"><span class="lineno">  505</span>       <span class="keywordflow">if</span> (i%5==0)</div>
<div class="line"><span class="lineno">  506</span>        <a class="code hl_function" href="uart_8c.html#ad211b1e1d3038dc260201e9e5fe5aa3f">uart_println</a>(usartx,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  507</span>  }</div>
<div class="line"><span class="lineno">  508</span>}</div>
<div class="ttc" id="auart_8c_html_ac4e07aa2988d16a9a6fcf721a6a0f9e6"><div class="ttname"><a href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a></div><div class="ttdeci">void uart_print(USART_TypeDef *usartx, char *str)</div><div class="ttdoc">a generic print message on the uart</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00433">uart.c:433</a></div></div>
<div class="ttc" id="auart_8c_html_ad211b1e1d3038dc260201e9e5fe5aa3f"><div class="ttname"><a href="uart_8c.html#ad211b1e1d3038dc260201e9e5fe5aa3f">uart_println</a></div><div class="ttdeci">void uart_println(USART_TypeDef *usartx, char *str)</div><div class="ttdoc">a generic println message on the uart</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00446">uart.c:446</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00433">uart_print()</a>, and <a class="el" href="uart_8c_source.html#l00446">uart_println()</a>.</p>

</div>
</div>
<a id="a5f2848e7ab3d7f4838d8852adf554311" name="a5f2848e7ab3d7f4838d8852adf554311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f2848e7ab3d7f4838d8852adf554311">&#9670;&#160;</a></span>uart_print_float()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_print_float </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>digits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00473">473</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  474</span>{</div>
<div class="line"><span class="lineno">  475</span><span class="keywordtype">char</span> buf[16]=<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  476</span>    <a class="code hl_union" href="unionreal__t.html">real_t</a> r;</div>
<div class="line"><span class="lineno">  477</span>    r=<a class="code hl_function" href="structs_8c.html#a95edfbbde7b3563c03165c0870e4c511">float_to_real</a>(val,digits);</div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">if</span>(r.<a class="code hl_variable" href="unionreal__t.html#aebc59a5b3970b597fe4af4d9595deb9d">sig</a>==1)</div>
<div class="line"><span class="lineno">  479</span>    <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx,<span class="stringliteral">&quot;-&quot;</span>);</div>
<div class="line"><span class="lineno">  480</span>    itoa(r.<a class="code hl_variable" href="unionreal__t.html#a9385c26e29d15b4ef373edb463b31a62">integer</a>,buf,10);</div>
<div class="line"><span class="lineno">  481</span>    <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx,buf);</div>
<div class="line"><span class="lineno">  482</span>        <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx,<span class="stringliteral">&quot;.&quot;</span>);   </div>
<div class="line"><span class="lineno">  483</span>    itoa(r.<a class="code hl_variable" href="unionreal__t.html#a7c1b9d13d97f6d6479f2d89bf9c7d6b4">decimal</a>,buf,10);</div>
<div class="line"><span class="lineno">  484</span>    <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx,buf);</div>
<div class="line"><span class="lineno">  485</span>}</div>
<div class="ttc" id="astructs_8c_html_a95edfbbde7b3563c03165c0870e4c511"><div class="ttname"><a href="structs_8c.html#a95edfbbde7b3563c03165c0870e4c511">float_to_real</a></div><div class="ttdeci">real_t float_to_real(float number, uint8_t digits)</div><div class="ttdoc">converts a float number to real_t number</div><div class="ttdef"><b>Definition:</b> <a href="structs_8c_source.html#l00365">structs.c:365</a></div></div>
<div class="ttc" id="aunionreal__t_html"><div class="ttname"><a href="unionreal__t.html">real_t</a></div><div class="ttdoc">signed real format</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00520">structs.h:521</a></div></div>
<div class="ttc" id="aunionreal__t_html_a7c1b9d13d97f6d6479f2d89bf9c7d6b4"><div class="ttname"><a href="unionreal__t.html#a7c1b9d13d97f6d6479f2d89bf9c7d6b4">real_t::decimal</a></div><div class="ttdeci">uint8_t decimal</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00526">structs.h:526</a></div></div>
<div class="ttc" id="aunionreal__t_html_a9385c26e29d15b4ef373edb463b31a62"><div class="ttname"><a href="unionreal__t.html#a9385c26e29d15b4ef373edb463b31a62">real_t::integer</a></div><div class="ttdeci">uint16_t integer</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00527">structs.h:527</a></div></div>
<div class="ttc" id="aunionreal__t_html_aebc59a5b3970b597fe4af4d9595deb9d"><div class="ttname"><a href="unionreal__t.html#aebc59a5b3970b597fe4af4d9595deb9d">real_t::sig</a></div><div class="ttdeci">uint8_t sig</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00528">structs.h:528</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structs_8h_source.html#l00526">real_t::decimal</a>, <a class="el" href="structs_8c_source.html#l00365">float_to_real()</a>, <a class="el" href="structs_8h_source.html#l00527">real_t::integer</a>, <a class="el" href="structs_8h_source.html#l00528">real_t::sig</a>, and <a class="el" href="uart_8c_source.html#l00433">uart_print()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mpu6050_8c_source.html#l00899">mpu6050_uart_print_Temperature()</a>.</p>

</div>
</div>
<a id="a55520d2a447749cd2d1ee3c305dd43fe" name="a55520d2a447749cd2d1ee3c305dd43fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55520d2a447749cd2d1ee3c305dd43fe">&#9670;&#160;</a></span>uart_print_integer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_print_integer </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dword</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">usartx</td><td></td></tr>
    <tr><td class="paramname">dword</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00459">459</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  460</span>{</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordtype">char</span> buf[16]=<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  462</span>    <span class="keywordflow">switch</span>(base)</div>
<div class="line"><span class="lineno">  463</span>    {</div>
<div class="line"><span class="lineno">  464</span>      <span class="keywordflow">case</span> 16:  <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx,<span class="stringliteral">&quot;0x&quot;</span>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  465</span>      <span class="keywordflow">case</span> 2:   <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx,<span class="stringliteral">&quot;0b&quot;</span>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  466</span>      <span class="keywordflow">default</span>:  <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx,<span class="stringliteral">&quot; &quot;</span>);  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  467</span>    }</div>
<div class="line"><span class="lineno">  468</span>    </div>
<div class="line"><span class="lineno">  469</span>    itoa(dword,buf,base);</div>
<div class="line"><span class="lineno">  470</span>    <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx,buf);    </div>
<div class="line"><span class="lineno">  471</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00433">uart_print()</a>.</p>

<p class="reference">Referenced by <a class="el" href="i2c_8c_source.html#l00123">i2c_uart_print()</a>, <a class="el" href="mpu6050_8c_source.html#l00071">mpu6050_init()</a>, <a class="el" href="mpu6050_8c_source.html#l00572">mpu6050_set_hpf()</a>, <a class="el" href="mpu6050_8c_source.html#l00544">mpu6050_set_lpf()</a>, <a class="el" href="system-task_8c_source.html#l00089">mpu6050_task()</a>, <a class="el" href="mpu6050_8c_source.html#l00877">mpu6050_uart_print_Accelometer()</a>, <a class="el" href="mpu6050_8c_source.html#l00888">mpu6050_uart_print_Gyroscope()</a>, <a class="el" href="mpu6050_8c_source.html#l00913">mpu6050_uart_print_raw_Accelometer()</a>, <a class="el" href="mpu6050_8c_source.html#l00971">mpu6050_uart_print_raw_Array()</a>, <a class="el" href="mpu6050_8c_source.html#l00935">mpu6050_uart_print_raw_Gyroscope()</a>, and <a class="el" href="mpu6050_8c_source.html#l00958">mpu6050_uart_print_raw_Temperature()</a>.</p>

</div>
</div>
<a id="ad211b1e1d3038dc260201e9e5fe5aa3f" name="ad211b1e1d3038dc260201e9e5fe5aa3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad211b1e1d3038dc260201e9e5fe5aa3f">&#9670;&#160;</a></span>uart_println()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_println </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a generic println message on the uart </p>
<p>similar to uart_send_buffer, except it handles characters as an ASCII data with \newline \r</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>a pointer to character string </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00446">446</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  447</span>{</div>
<div class="line"><span class="lineno">  448</span>    <a class="code hl_function" href="uart_8c.html#adb05ddfce6a486b2d05d53e4015d0664">uart_send_buffer</a>(usartx ,(uint8_t*)str,strlen(str));</div>
<div class="line"><span class="lineno">  449</span>    <a class="code hl_function" href="uart_8c.html#a83c8856b6847b6fa9781d9ed60dd74c0">uart_send_byte</a>(usartx,<span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><span class="lineno">  450</span>    <a class="code hl_function" href="uart_8c.html#a83c8856b6847b6fa9781d9ed60dd74c0">uart_send_byte</a>(usartx,<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><span class="lineno">  451</span>}</div>
<div class="ttc" id="auart_8c_html_a83c8856b6847b6fa9781d9ed60dd74c0"><div class="ttname"><a href="uart_8c.html#a83c8856b6847b6fa9781d9ed60dd74c0">uart_send_byte</a></div><div class="ttdeci">uint8_t uart_send_byte(USART_TypeDef *usartx, uint8_t byte)</div><div class="ttdoc">sends one byte on the uart</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00381">uart.c:381</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00397">uart_send_buffer()</a>, and <a class="el" href="uart_8c_source.html#l00381">uart_send_byte()</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart_8c_source.html#l00495">uart_print_Array()</a>, <a class="el" href="uart_8c_source.html#l00518">uart_println_Array()</a>, and <a class="el" href="system-task_8c_source.html#l00063">uart_task()</a>.</p>

</div>
</div>
<a id="aaae77997a4de964e6a0d983aa7c86fc2" name="aaae77997a4de964e6a0d983aa7c86fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaae77997a4de964e6a0d983aa7c86fc2">&#9670;&#160;</a></span>uart_println_Array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_println_Array </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a generic println message on the uart in hexadecimal format </p>
<p>a generic println message as hexadecimal format on the uart</p>
<p>similar to uart_send_buffer, except it converrs ASCII data to hexadecimal format</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>a pointer to start of message buffer </td></tr>
    <tr><td class="paramname">len</td><td>the length of the buffer message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00518">518</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  519</span>{</div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordtype">char</span> buf[16]=<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  521</span>    uint8_t val=0;</div>
<div class="line"><span class="lineno">  522</span>   <span class="keywordflow">for</span>(uint8_t i=0;i&lt;len;i++)</div>
<div class="line"><span class="lineno">  523</span>   {</div>
<div class="line"><span class="lineno">  524</span>      val=data[i];</div>
<div class="line"><span class="lineno">  525</span>       <a class="code hl_function" href="uart_8c.html#ac4e07aa2988d16a9a6fcf721a6a0f9e6">uart_print</a>(usartx,<span class="stringliteral">&quot;0x&quot;</span>);</div>
<div class="line"><span class="lineno">  526</span>       itoa(val,buf,16);</div>
<div class="line"><span class="lineno">  527</span>       <a class="code hl_function" href="uart_8c.html#ad211b1e1d3038dc260201e9e5fe5aa3f">uart_println</a>(usartx,buf);       </div>
<div class="line"><span class="lineno">  528</span>  }</div>
<div class="line"><span class="lineno">  529</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00433">uart_print()</a>, and <a class="el" href="uart_8c_source.html#l00446">uart_println()</a>.</p>

</div>
</div>
<a id="a14e51343725890efb4ba68ba64d44299" name="a14e51343725890efb4ba68ba64d44299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14e51343725890efb4ba68ba64d44299">&#9670;&#160;</a></span>uart_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_receive </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>performs areceive operation of one byte on uart </p>
<p>receives one byte on uart at the trigger of the receive complete interrupt and appends this received byte to the receive buffer this method is called in the uart receive complete interrupt service routine</p>
<dl class="section return"><dt>Returns</dt><dd>the received byte on the uart rx module </dd>
<dd>
uint8_t </dd></dl>
<ul>
<li>USART_FLAG_ORE: OverRun Error flag </li>
<li>USART_FLAG_NE: Noise Error flag </li>
<li>USART_FLAG_FE: Framing Error flag </li>
<li>USART_FLAG_PE: Parity Error flag</li>
</ul>
<p>PE (Parity error) , FE (Framing error), NE (Noise error), <br  />
 ORE (OverRun error) and IDLE (Idle line detected) flags are cleared by software sequence:</p><ol type="1">
<li>a read operation to USART_SR register (USART_GetFlagStatus())</li>
<li>followed by a read operation to USART_DR register (USART_ReceiveData()).</li>
</ol>
<p>RXNE flag can be also cleared by a read to the USART_DR register (USART_ReceiveData()).</p>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00569">569</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  570</span>{</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>  <span class="comment">//uint8_t data=0;</span></div>
<div class="line"><span class="lineno">  574</span>  <span class="comment">//uart_status_t status;</span></div>
<div class="line"><span class="lineno">  575</span> <span class="comment">// read data byte received from the rx buffer as soon as possible</span></div>
<div class="line"><span class="lineno">  576</span>   <span class="comment">//data= uart_data_reg.val;</span></div>
<div class="line"><span class="lineno">  577</span>  <span class="comment">// get the status of the uart</span></div>
<div class="line"><span class="lineno">  578</span>   <span class="comment">//status.val=uart_status_reg.val;</span></div>
<div class="line"><span class="lineno">  579</span>   <span class="comment">//uart_status_reg.val=0;</span></div>
<div class="line"><span class="lineno">  580</span>  <span class="comment">// check no error in the received byte </span></div>
<div class="line"><span class="lineno">  581</span>   <span class="comment">//if(!status.data_over_run &amp;&amp; </span></div>
<div class="line"><span class="lineno">  582</span><span class="comment">//     !status.frame_error   &amp;&amp; </span></div>
<div class="line"><span class="lineno">  583</span><span class="comment">//     !status.parity_error)</span></div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>    <span class="comment">// clear the Interrupt </span></div>
<div class="line"><span class="lineno">  586</span>     <span class="comment">//USART_ClearITPendingBit(USART1,USART_IT_RXNE);</span></div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>      <span class="keyword">volatile</span> uint8_t data=0;</div>
<div class="line"><span class="lineno">  589</span>      <span class="keyword">volatile</span> uint16_t status=0;</div>
<div class="line"><span class="lineno">  590</span>      status=usartx-&gt;SR;</div>
<div class="line"><span class="lineno">  591</span>      <span class="comment">// read the received data from the usart receive buffer</span></div>
<div class="line"><span class="lineno">  592</span>      data=usartx-&gt;DR &amp; 0x00ff;    <span class="comment">// onlu 8_bit</span></div>
<div class="line"><span class="lineno">  593</span>    </div>
<div class="line"><span class="lineno">  594</span>     <span class="comment">// reset the receive interrupt flag by software optional, reading data  reset IT_RXNE by hardware</span></div>
<div class="line"><span class="lineno">  595</span>     <span class="comment">//RXNE flag can be also cleared by a read to the USART_DR register (USART_ReceiveData()).</span></div>
<div class="line"><span class="lineno">  596</span>     <span class="comment">//USART_GetFlagStatus(USART1,USART_IT_TXE);</span></div>
<div class="line"><span class="lineno">  597</span>     <span class="comment">//USART_ClearITPendingBit(USART1,USART_IT_RXNE);</span></div>
<div class="line"><span class="lineno">  598</span>        </div>
<div class="line"><span class="lineno">  599</span>     <span class="comment">// push it to the receive queue</span></div>
<div class="line"><span class="lineno">  600</span>    <a class="code hl_function" href="uart_8h.html#a443e0e57b13be1be85f5017015fdc8a9">uart_put_char</a>(USART1,data);</div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">if</span>(data==<span class="charliteral">&#39;;&#39;</span>)</div>
<div class="line"><span class="lineno">  602</span>        <a class="code hl_variable" href="init_8c.html#ab9efc572db3c906411b089e237d980b1">relays</a>.<a class="code hl_variable" href="unionrly__t.html#acba5e3fc2cdb66e197968beee3017c87">val</a>=0;</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordflow">if</span>(USART_GetFlagStatus(USART1,USART_FLAG_PE | USART_FLAG_FE | </div>
<div class="line"><span class="lineno">  605</span>                           USART_FLAG_NE | USART_FLAG_ORE)==RESET)</div>
<div class="line"><span class="lineno">  606</span>    {</div>
<div class="line"><span class="lineno">  621</span>       <span class="comment">//</span></div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>      <span class="comment">// here try to append the data to the received buffer</span></div>
<div class="line"><span class="lineno">  624</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="uart_8c.html#a8d2125ef719f1e7e313d8a05c3359498">uart_rx_buffer_add</a>(data))</div>
<div class="line"><span class="lineno">  625</span>        {</div>
<div class="line"><span class="lineno">  626</span>          <span class="comment">// it is failed to add a new data as buffer is full</span></div>
<div class="line"><span class="lineno">  627</span>            <a class="code hl_function" href="uart_8c.html#ab6d62a850547ad7ac50ecdb38c4b87cf">uart_reset</a>();</div>
<div class="line"><span class="lineno">  628</span>            <a class="code hl_variable" href="uart_8c.html#aa7c972eff98a56afe0099c835d610611">buffer_overflow</a>=1;        </div>
<div class="line"><span class="lineno">  629</span>        }</div>
<div class="line"><span class="lineno">  630</span>    }</div>
<div class="line"><span class="lineno">  631</span>     </div>
<div class="line"><span class="lineno">  632</span>  <span class="keywordflow">return</span> data;  </div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>}</div>
<div class="ttc" id="ainit_8c_html_ab9efc572db3c906411b089e237d980b1"><div class="ttname"><a href="init_8c.html#ab9efc572db3c906411b089e237d980b1">relays</a></div><div class="ttdeci">rly_t relays</div><div class="ttdef"><b>Definition:</b> <a href="init_8c_source.html#l00025">init.c:25</a></div></div>
<div class="ttc" id="auart_8c_html_a8d2125ef719f1e7e313d8a05c3359498"><div class="ttname"><a href="uart_8c.html#a8d2125ef719f1e7e313d8a05c3359498">uart_rx_buffer_add</a></div><div class="ttdeci">uint8_t uart_rx_buffer_add(uint8_t val)</div><div class="ttdoc">append the new received byte to the receive buffer</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00253">uart.c:253</a></div></div>
<div class="ttc" id="auart_8c_html_aa7c972eff98a56afe0099c835d610611"><div class="ttname"><a href="uart_8c.html#aa7c972eff98a56afe0099c835d610611">buffer_overflow</a></div><div class="ttdeci">volatile uint8_t buffer_overflow</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00028">uart.c:28</a></div></div>
<div class="ttc" id="auart_8h_html_a443e0e57b13be1be85f5017015fdc8a9"><div class="ttname"><a href="uart_8h.html#a443e0e57b13be1be85f5017015fdc8a9">uart_put_char</a></div><div class="ttdeci">uint8_t uart_put_char(USART_TypeDef *usartx, uint8_t data)</div><div class="ttdef"><b>Definition:</b> <a href="uart__com_8c_source.html#l00375">uart_com.c:375</a></div></div>
<div class="ttc" id="aunionrly__t_html_acba5e3fc2cdb66e197968beee3017c87"><div class="ttname"><a href="unionrly__t.html#acba5e3fc2cdb66e197968beee3017c87">rly_t::val</a></div><div class="ttdeci">uint8_t val</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00042">system.h:42</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00028">buffer_overflow</a>, <a class="el" href="init_8c_source.html#l00025">relays</a>, <a class="el" href="uart__com_8c_source.html#l00375">uart_put_char()</a>, <a class="el" href="uart_8c_source.html#l00238">uart_reset()</a>, <a class="el" href="uart_8c_source.html#l00253">uart_rx_buffer_add()</a>, and <a class="el" href="system_8h_source.html#l00042">rly_t::val</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart__com_8c_source.html#l00260">USART1_IRQHandler()</a>.</p>

</div>
</div>
<a id="a59754afdf4c7e6d6af2764eb67b43c90" name="a59754afdf4c7e6d6af2764eb67b43c90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59754afdf4c7e6d6af2764eb67b43c90">&#9670;&#160;</a></span>uart_receive_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_receive_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>puts the uart in the receive mode </p>
<p>initializes the uart to operate in the receive mode</p>
<p>initializes the uart to operate in the receive mode and resets the receive buffer </p><dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00321">321</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  322</span>{</div>
<div class="line"><span class="lineno">  323</span> <span class="comment">// define the data direction of tx,rx pins</span></div>
<div class="line"><span class="lineno">  324</span> <span class="comment">/*  uart_CNTA_DIR.tx=1;   // set as output pin        //sbit(DDRD,PD1) DDRD |=(1&lt;&lt;PD1)</span></div>
<div class="line"><span class="lineno">  325</span><span class="comment">   uart_CNTA_DIR.rx=0;   // set as an input pin      //sbit(DDRD,PD0) DDRD &amp;=~(1&lt;&lt;PD1)</span></div>
<div class="line"><span class="lineno">  326</span><span class="comment">   uart_CNTA_PORT.tx=1;  // set to High State        //sbit(PORT,PD1) PORTD|=(1&lt;&lt;PD1)</span></div>
<div class="line"><span class="lineno">  327</span><span class="comment">   uart_CNTA_PORT.rx=1;  // Enable Weak up resistor  //sbit(PORT,PD0) PORTD|=(1&lt;&lt;PD1)</span></div>
<div class="line"><span class="lineno">  328</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  329</span><span class="comment">   //UCSR0A=0x00;</span></div>
<div class="line"><span class="lineno">  330</span><span class="comment">   uart_status_reg.val=0;</span></div>
<div class="line"><span class="lineno">  331</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  332</span><span class="comment">  //UCSR0B=(1&lt;&lt;RXEN0)|(1&lt;&lt;RXCIE0);</span></div>
<div class="line"><span class="lineno">  333</span><span class="comment">   uart_control_reg.val=0;</span></div>
<div class="line"><span class="lineno">  334</span><span class="comment">   uart_control_reg.rx_enable=1;</span></div>
<div class="line"><span class="lineno">  335</span><span class="comment">   uart_control_reg.receive_complete_ie=1;</span></div>
<div class="line"><span class="lineno">  336</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno">  337</span>   <span class="comment">//reset the uart buffer</span></div>
<div class="line"><span class="lineno">  338</span>    <a class="code hl_function" href="uart_8c.html#ab6d62a850547ad7ac50ecdb38c4b87cf">uart_reset</a>();     </div>
<div class="line"><span class="lineno">  339</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00238">uart_reset()</a>.</p>

</div>
</div>
<a id="aae007118b43d22a6f5884239f6030f28" name="aae007118b43d22a6f5884239f6030f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae007118b43d22a6f5884239f6030f28">&#9670;&#160;</a></span>uart_receive_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_receive_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>stop the current receiving message <br  />
 </p>
<p>stop the current receive operation and resets the the receive module of the uart </p>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00346">346</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  347</span>{</div>
<div class="line"><span class="lineno">  348</span><span class="comment">// Stop listening. </span></div>
<div class="line"><span class="lineno">  349</span>  <span class="comment">//uart_status_reg.val=0;  //UCSR0A=0x00;</span></div>
<div class="line"><span class="lineno">  350</span>  <span class="comment">//uart_control_reg.val=0; //UCSR0B=0x00;</span></div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>   <span class="comment">//reset the uart buffer</span></div>
<div class="line"><span class="lineno">  353</span>   <a class="code hl_function" href="uart_8c.html#ab6d62a850547ad7ac50ecdb38c4b87cf">uart_reset</a>();     </div>
<div class="line"><span class="lineno">  354</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00238">uart_reset()</a>.</p>

</div>
</div>
<a id="ae682f07c38787d586f1a984efe589f03" name="ae682f07c38787d586f1a984efe589f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae682f07c38787d586f1a984efe589f03">&#9670;&#160;</a></span>uart_reg_read_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_reg_read_byte </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read a byte to the uart data register </p>
<p>configures the uart module</p>
<p>configures the uart module using the options defined by static uart_options variable</p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>initializes the receive mask interrupt</p>
<p>sets or resets the receive complete interrupt mask bit based on the passed value </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>sets/resets the receive complete interrupt mask bit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>read a byte to the uart data register</p>
<p>reseved for future use </p><dl class="section return"><dt>Returns</dt><dd>uint8_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00188">188</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  189</span>{</div>
<div class="line"><span class="lineno">  190</span>   <span class="keywordflow">while</span>(USART_GetFlagStatus(usartx,USART_FLAG_RXNE)==RESET);</div>
<div class="line"><span class="lineno">  191</span>     <span class="keywordflow">return</span> usartx-&gt;DR &amp; (uint16_t) 0x00ff;  </div>
<div class="line"><span class="lineno">  192</span>    </div>
<div class="line"><span class="lineno">  193</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af88cd4476479dade3845bcb39b284da5" name="af88cd4476479dade3845bcb39b284da5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af88cd4476479dade3845bcb39b284da5">&#9670;&#160;</a></span>uart_reg_write_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_reg_write_buffer </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write an array of data to the uart transmit buffer </p>
<p>writes this array of bytes to the uart data rgister in sequnce to be transmisted on the TX output pin</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>a pointer to the data array </td></tr>
    <tr><td class="paramname">size</td><td>the length of this data array buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00225">225</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  226</span>{</div>
<div class="line"><span class="lineno">  227</span>    uint16_t i=0;</div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">for</span>(i=0;i&lt;size;i++)</div>
<div class="line"><span class="lineno">  229</span>     <a class="code hl_function" href="uart_8c.html#a26ccbf97bca6fb1bb89fd21cbcc18aaf">uart_reg_write_byte</a>((USART_TypeDef *) usartx ,buff[i]);</div>
<div class="line"><span class="lineno">  230</span>}</div>
<div class="ttc" id="auart_8c_html_a26ccbf97bca6fb1bb89fd21cbcc18aaf"><div class="ttname"><a href="uart_8c.html#a26ccbf97bca6fb1bb89fd21cbcc18aaf">uart_reg_write_byte</a></div><div class="ttdeci">void uart_reg_write_byte(USART_TypeDef *usartx, uint8_t val)</div><div class="ttdoc">write a byte to the uart data register</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00203">uart.c:203</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00203">uart_reg_write_byte()</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart_8c_source.html#l00397">uart_send_buffer()</a>.</p>

</div>
</div>
<a id="a26ccbf97bca6fb1bb89fd21cbcc18aaf" name="a26ccbf97bca6fb1bb89fd21cbcc18aaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26ccbf97bca6fb1bb89fd21cbcc18aaf">&#9670;&#160;</a></span>uart_reg_write_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_reg_write_byte </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write a byte to the uart data register </p>
<p>writes a byte to the uart data register</p>
<p>writes a byte to the uart data register which be later sent on the uart TX output pin</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>the passed value to be sent on the uart TX line </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00203">203</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  204</span>{</div>
<div class="line"><span class="lineno">  205</span> <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  206</span><span class="comment">  uint32_t i=0; </span></div>
<div class="line"><span class="lineno">  207</span><span class="comment">   while(!uart_status_reg.data_register_empty);</span></div>
<div class="line"><span class="lineno">  208</span><span class="comment">    uart_data_reg.val=val;</span></div>
<div class="line"><span class="lineno">  209</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  210</span><span class="keywordflow">while</span>(USART_GetFlagStatus(usartx,USART_FLAG_TXE)==RESET);</div>
<div class="line"><span class="lineno">  211</span>  usartx-&gt;DR=(val &amp; (uint16_t) 0x00ff);</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span> }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="uart_8c_source.html#l00225">uart_reg_write_buffer()</a>, and <a class="el" href="uart_8c_source.html#l00381">uart_send_byte()</a>.</p>

</div>
</div>
<a id="ab6d62a850547ad7ac50ecdb38c4b87cf" name="ab6d62a850547ad7ac50ecdb38c4b87cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6d62a850547ad7ac50ecdb38c4b87cf">&#9670;&#160;</a></span>uart_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>resets the received buffer </p>
<p>resets the received buffer by setting each member a zero value </p><dl class="section return"><dt>Returns</dt><dd>void <br  />
 </dd></dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00238">238</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  239</span>{</div>
<div class="line"><span class="lineno">  240</span>    <a class="code hl_variable" href="uart_8c.html#a58ace0c1ec7fa336ad3837756c0bcef6">rx_buffer_length</a>=0;</div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">for</span>(uint8_t i=0;i&lt;<a class="code hl_define" href="uart_8h.html#a0d57378e32bf8278011460740bc29f7f">UART_BUFFER_SIZE</a>;i++)</div>
<div class="line"><span class="lineno">  242</span>      <a class="code hl_variable" href="uart_8c.html#a9ffe643c943365b861711aca5d59585b">rx_buffer</a>[i]=0;</div>
<div class="line"><span class="lineno">  243</span>}</div>
<div class="ttc" id="auart_8c_html_a9ffe643c943365b861711aca5d59585b"><div class="ttname"><a href="uart_8c.html#a9ffe643c943365b861711aca5d59585b">rx_buffer</a></div><div class="ttdeci">uint8_t rx_buffer[UART_BUFFER_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00026">uart.c:26</a></div></div>
<div class="ttc" id="auart_8h_html_a0d57378e32bf8278011460740bc29f7f"><div class="ttname"><a href="uart_8h.html#a0d57378e32bf8278011460740bc29f7f">UART_BUFFER_SIZE</a></div><div class="ttdeci">#define UART_BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="uart_8h_source.html#l00027">uart.h:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00026">rx_buffer</a>, <a class="el" href="uart_8c_source.html#l00027">rx_buffer_length</a>, and <a class="el" href="uart_8h_source.html#l00027">UART_BUFFER_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart_8c_source.html#l00539">uart_init()</a>, <a class="el" href="uart_8c_source.html#l00569">uart_receive()</a>, <a class="el" href="uart_8c_source.html#l00321">uart_receive_start()</a>, <a class="el" href="uart_8c_source.html#l00346">uart_receive_stop()</a>, and <a class="el" href="system-task_8c_source.html#l00063">uart_task()</a>.</p>

</div>
</div>
<a id="a8d2125ef719f1e7e313d8a05c3359498" name="a8d2125ef719f1e7e313d8a05c3359498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d2125ef719f1e7e313d8a05c3359498">&#9670;&#160;</a></span>uart_rx_buffer_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_rx_buffer_add </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>append the new received byte to the receive buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>the byte value intended to be appended to the end of the received buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>failed to add this byte no enough space </td></tr>
    <tr><td class="paramname">1</td><td>succeeded to add this byte to the end of the buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00253">253</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  254</span>{</div>
<div class="line"><span class="lineno">  255</span><span class="keywordflow">if</span>(<a class="code hl_variable" href="uart_8c.html#a58ace0c1ec7fa336ad3837756c0bcef6">rx_buffer_length</a>&lt;=<a class="code hl_define" href="uart_8h.html#a0d57378e32bf8278011460740bc29f7f">UART_BUFFER_SIZE</a>)  </div>
<div class="line"><span class="lineno">  256</span> {</div>
<div class="line"><span class="lineno">  257</span>  <a class="code hl_variable" href="uart_8c.html#a58ace0c1ec7fa336ad3837756c0bcef6">rx_buffer_length</a>++;</div>
<div class="line"><span class="lineno">  258</span>  <a class="code hl_variable" href="uart_8c.html#a9ffe643c943365b861711aca5d59585b">rx_buffer</a>[<a class="code hl_variable" href="uart_8c.html#a58ace0c1ec7fa336ad3837756c0bcef6">rx_buffer_length</a>-1]=val;</div>
<div class="line"><span class="lineno">  259</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  260</span> }</div>
<div class="line"><span class="lineno">  261</span> <span class="keywordflow">return</span> 0; </div>
<div class="line"><span class="lineno">  262</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00026">rx_buffer</a>, <a class="el" href="uart_8c_source.html#l00027">rx_buffer_length</a>, and <a class="el" href="uart_8h_source.html#l00027">UART_BUFFER_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart_8c_source.html#l00569">uart_receive()</a>.</p>

</div>
</div>
<a id="adb05ddfce6a486b2d05d53e4015d0664" name="adb05ddfce6a486b2d05d53e4015d0664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb05ddfce6a486b2d05d53e4015d0664">&#9670;&#160;</a></span>uart_send_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_send_buffer </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>buf_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sends an array of bytes on the uart </p>
<p>it is an extension to uart_send_byte, hence it sends an array of data bytes on the uart</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>a pointer to array of bytes </td></tr>
    <tr><td class="paramname">buf_size</td><td>the length of data array/buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00397">397</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  398</span>{</div>
<div class="line"><span class="lineno">  399</span>    </div>
<div class="line"><span class="lineno">  400</span>    <span class="comment">// send payload</span></div>
<div class="line"><span class="lineno">  401</span>    <a class="code hl_function" href="uart_8c.html#af88cd4476479dade3845bcb39b284da5">uart_reg_write_buffer</a>(usartx,buf,buf_size);</div>
<div class="line"><span class="lineno">  402</span>    </div>
<div class="line"><span class="lineno">  403</span>}</div>
<div class="ttc" id="auart_8c_html_af88cd4476479dade3845bcb39b284da5"><div class="ttname"><a href="uart_8c.html#af88cd4476479dade3845bcb39b284da5">uart_reg_write_buffer</a></div><div class="ttdeci">void uart_reg_write_buffer(USART_TypeDef *usartx, uint8_t *buff, uint16_t length)</div><div class="ttdoc">write an array of data to the uart transmit buffer</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00225">uart.c:225</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00225">uart_reg_write_buffer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart_8c_source.html#l00433">uart_print()</a>, <a class="el" href="uart_8c_source.html#l00446">uart_println()</a>, and <a class="el" href="uart_8c_source.html#l00415">uart_send_message()</a>.</p>

</div>
</div>
<a id="a83c8856b6847b6fa9781d9ed60dd74c0" name="a83c8856b6847b6fa9781d9ed60dd74c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83c8856b6847b6fa9781d9ed60dd74c0">&#9670;&#160;</a></span>uart_send_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_send_byte </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sends one byte on the uart </p>
<p>it first change the uart mode to work in the transmist mode then sends the byte by first configure the TX IO pin , then write to the uart data register. finally returns the module to the receive mode to avoid losing any received data on the RX Input pin </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">byte</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00381">381</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  382</span>{</div>
<div class="line"><span class="lineno">  383</span>    <span class="comment">// send payload</span></div>
<div class="line"><span class="lineno">  384</span>    <a class="code hl_function" href="uart_8c.html#a26ccbf97bca6fb1bb89fd21cbcc18aaf">uart_reg_write_byte</a>(usartx,<span class="keywordtype">byte</span>);       </div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  386</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00203">uart_reg_write_byte()</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart_8c_source.html#l00446">uart_println()</a>.</p>

</div>
</div>
<a id="a29b7d649121729e74856924670dc4ad7" name="a29b7d649121729e74856924670dc4ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b7d649121729e74856924670dc4ad7">&#9670;&#160;</a></span>uart_send_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_send_message </td>
          <td>(</td>
          <td class="paramtype">USART_TypeDef *&#160;</td>
          <td class="paramname"><em>usartx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sends a message on the uart </p>
<p>it is an extension to uart_send_buffer, hence, it may builds a header or a delimiter to the information data portion <br  />
 on the uart</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>a pointer to data array of bytes </td></tr>
    <tr><td class="paramname">buf_size</td><td>the length of data array/buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00415">415</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  416</span>{</div>
<div class="line"><span class="lineno">  417</span><span class="comment">// Send header - a start of the message : </span></div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span> <span class="comment">// send payload</span></div>
<div class="line"><span class="lineno">  420</span> <a class="code hl_function" href="uart_8c.html#adb05ddfce6a486b2d05d53e4015d0664">uart_send_buffer</a>(usartx,buff,length);</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span> <span class="comment">// Send delimiter- a end of the message :</span></div>
<div class="line"><span class="lineno">  423</span>   </div>
<div class="line"><span class="lineno">  424</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uart_8c_source.html#l00397">uart_send_buffer()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa7c972eff98a56afe0099c835d610611" name="aa7c972eff98a56afe0099c835d610611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7c972eff98a56afe0099c835d610611">&#9670;&#160;</a></span>buffer_overflow</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t buffer_overflow =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00028">28</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart_8c_source.html#l00569">uart_receive()</a>.</p>

</div>
</div>
<a id="a9ffe643c943365b861711aca5d59585b" name="a9ffe643c943365b861711aca5d59585b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ffe643c943365b861711aca5d59585b">&#9670;&#160;</a></span>rx_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rx_buffer[<a class="el" href="uart_8h.html#a0d57378e32bf8278011460740bc29f7f">UART_BUFFER_SIZE</a>] ={0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00026">26</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart_8c_source.html#l00238">uart_reset()</a>, <a class="el" href="uart_8c_source.html#l00253">uart_rx_buffer_add()</a>, and <a class="el" href="system-task_8c_source.html#l00063">uart_task()</a>.</p>

</div>
</div>
<a id="a58ace0c1ec7fa336ad3837756c0bcef6" name="a58ace0c1ec7fa336ad3837756c0bcef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ace0c1ec7fa336ad3837756c0bcef6">&#9670;&#160;</a></span>rx_buffer_length</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t rx_buffer_length =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00027">27</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart_8c_source.html#l00642">uart_data_is_available()</a>, <a class="el" href="uart_8c_source.html#l00238">uart_reset()</a>, <a class="el" href="uart_8c_source.html#l00253">uart_rx_buffer_add()</a>, and <a class="el" href="system-task_8c_source.html#l00063">uart_task()</a>.</p>

</div>
</div>
<a id="a1b1504145ecbe755bddce6ea0a213516" name="a1b1504145ecbe755bddce6ea0a213516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1504145ecbe755bddce6ea0a213516">&#9670;&#160;</a></span>rx_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t rx_index =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00025">25</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>

</div>
</div>
<a id="afa46f44bc308a1de826446c600c2934e" name="afa46f44bc308a1de826446c600c2934e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa46f44bc308a1de826446c600c2934e">&#9670;&#160;</a></span>uart_delimiter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_delimiter[<a class="el" href="uart_8h.html#a67aab3010ec692f0dafb13da30723dca">UART_DELIMITER_SIZE</a>] ={0x55,0xaa,0x55,0xaa}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00037">37</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>

</div>
</div>
<a id="acb8f8265da8593e83c706d12fc2604a5" name="acb8f8265da8593e83c706d12fc2604a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb8f8265da8593e83c706d12fc2604a5">&#9670;&#160;</a></span>uart_rx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgpio__t.html">gpio_t</a> uart_rx ={GPIOA,10}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00031">31</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart__com_8c_source.html#l00054">USART1_init()</a>.</p>

</div>
</div>
<a id="aad8c7a7716c9cbbd7126ff5f1d961c87" name="aad8c7a7716c9cbbd7126ff5f1d961c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad8c7a7716c9cbbd7126ff5f1d961c87">&#9670;&#160;</a></span>uart_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t uart_state =<a class="el" href="uart_8h.html#aa4b53706684555be8615863066899d99a56627f80c174a43b31fad66b23478bae">UART_WAIT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="uart_8c.html">uart.c</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">student</td><td>Sameer Almaldein </td></tr>
    <tr><td class="paramname">ID</td><td>679699 </td></tr>
    <tr><td class="paramname">University</td><td>TU-Chemnitz </td></tr>
    <tr><td class="paramname">Master</td><td>: ASE(Automotive Software Engineering ) uart state variable it defines thes state in the FSM (Finite state machine) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00022">22</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="system-task_8c_source.html#l00063">uart_task()</a>.</p>

</div>
</div>
<a id="a115e1c5ac83f8480d6837613afdda17a" name="a115e1c5ac83f8480d6837613afdda17a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a115e1c5ac83f8480d6837613afdda17a">&#9670;&#160;</a></span>uart_ticks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t uart_ticks =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00023">23</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="system-task_8c_source.html#l00063">uart_task()</a>.</p>

</div>
</div>
<a id="a668f5a710c6eda8b41de0243c107d09f" name="a668f5a710c6eda8b41de0243c107d09f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a668f5a710c6eda8b41de0243c107d09f">&#9670;&#160;</a></span>uart_tx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgpio__t.html">gpio_t</a> uart_tx ={GPIOA,9}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uart_8c_source.html#l00030">30</a> of file <a class="el" href="uart_8c_source.html">uart.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="uart__com_8c_source.html#l00054">USART1_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_43ad556cc113861ad71aa7c6f25342a2.html">uart</a></li><li class="navelem"><a class="el" href="uart_8c.html">uart.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
