ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"system-task.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	keypad_state
  18              		.section	.bss.keypad_state,"aw",%nobits
  21              	keypad_state:
  22 0000 00       		.space	1
  23              		.global	keypad_ticks
  24              		.section	.bss.keypad_ticks,"aw",%nobits
  25              		.align	2
  28              	keypad_ticks:
  29 0000 00000000 		.space	4
  30              		.global	keypad_debounce_cnt
  31              		.section	.bss.keypad_debounce_cnt,"aw",%nobits
  32              		.align	2
  35              	keypad_debounce_cnt:
  36 0000 00000000 		.space	4
  37              		.global	lcd_state
  38              		.section	.bss.lcd_state,"aw",%nobits
  41              	lcd_state:
  42 0000 00       		.space	1
  43              		.global	lcd_ticks
  44              		.section	.bss.lcd_ticks,"aw",%nobits
  45              		.align	2
  48              	lcd_ticks:
  49 0000 00000000 		.space	4
  50              		.global	pilot_state
  51              		.section	.bss.pilot_state,"aw",%nobits
  54              	pilot_state:
  55 0000 00       		.space	1
  56              		.global	pilot_ticks
  57              		.section	.bss.pilot_ticks,"aw",%nobits
  58              		.align	2
  61              	pilot_ticks:
  62 0000 00000000 		.space	4
  63              		.global	rtc_state
  64              		.section	.bss.rtc_state,"aw",%nobits
  67              	rtc_state:
  68 0000 00       		.space	1
  69              		.global	rtc_ticks
  70              		.section	.bss.rtc_ticks,"aw",%nobits
  71              		.align	2
  74              	rtc_ticks:
  75 0000 00000000 		.space	4
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 2


  76              		.global	mpu_state
  77              		.section	.bss.mpu_state,"aw",%nobits
  80              	mpu_state:
  81 0000 00       		.space	1
  82              		.global	mpu_ticks
  83              		.section	.bss.mpu_ticks,"aw",%nobits
  84              		.align	2
  87              	mpu_ticks:
  88 0000 00000000 		.space	4
  89              		.global	mpu_cycle
  90              		.section	.data.mpu_cycle,"aw"
  91              		.align	2
  94              	mpu_cycle:
  95 0000 50C30000 		.word	50000
  96              		.section	.text.adc_task,"ax",%progbits
  97              		.align	1
  98              		.global	adc_task
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 103              	adc_task:
 104              	.LFB33:
 105              		.file 1 "./system/system-task.c"
   1:./system/system-task.c **** /**
   2:./system/system-task.c ****  * @brief system-task.c
   3:./system/system-task.c ****  *
   4:./system/system-task.c ****  * @param student: Sameer Almaldein
   5:./system/system-task.c ****  * @param ID: 679699
   6:./system/system-task.c ****  * @param University TU-Chemnitz
   7:./system/system-task.c ****  * @param Master : ASE(Automotive Software Engineering )
   8:./system/system-task.c ****  */ 
   9:./system/system-task.c **** 
  10:./system/system-task.c **** //********************************************************************************************
  11:./system/system-task.c **** //
  12:./system/system-task.c **** //  header  files
  13:./system/system-task.c **** //
  14:./system/system-task.c **** //********************************************************************************************
  15:./system/system-task.c **** #include "init.h"
  16:./system/system-task.c **** //********************************************************************************************
  17:./system/system-task.c **** //
  18:./system/system-task.c **** //  static Methods
  19:./system/system-task.c **** //
  20:./system/system-task.c **** //********************************************************************************************
  21:./system/system-task.c **** 
  22:./system/system-task.c **** //********************************************************************************************
  23:./system/system-task.c **** //
  24:./system/system-task.c **** //  global variables
  25:./system/system-task.c **** //
  26:./system/system-task.c **** //********************************************************************************************
  27:./system/system-task.c **** uint8_t keypad_state=0;
  28:./system/system-task.c **** uint32_t keypad_ticks=0;
  29:./system/system-task.c **** uint32_t keypad_debounce_cnt=0;
  30:./system/system-task.c ****  
  31:./system/system-task.c **** uint8_t lcd_state=0;
  32:./system/system-task.c **** uint32_t lcd_ticks=0;
  33:./system/system-task.c **** 
  34:./system/system-task.c **** uint8_t pilot_state=0;
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 3


  35:./system/system-task.c **** uint32_t pilot_ticks=0;
  36:./system/system-task.c ****   
  37:./system/system-task.c **** uint8_t rtc_state=0;
  38:./system/system-task.c **** uint32_t rtc_ticks=0;
  39:./system/system-task.c **** 
  40:./system/system-task.c **** uint8_t mpu_state=0;
  41:./system/system-task.c **** uint32_t mpu_ticks=0;
  42:./system/system-task.c **** uint32_t mpu_cycle=MPU_WAIT_TIMEOUT;
  43:./system/system-task.c ****  
  44:./system/system-task.c **** //uint8_t mpu_init_sucess=0;
  45:./system/system-task.c **** 
  46:./system/system-task.c **** 
  47:./system/system-task.c ****  
  48:./system/system-task.c **** //********************************************************************************************
  49:./system/system-task.c **** //
  50:./system/system-task.c **** //  extern Methods definition
  51:./system/system-task.c **** //
  52:./system/system-task.c **** //********************************************************************************************
  53:./system/system-task.c **** void adc_task(void)
  54:./system/system-task.c **** {
 106              		.loc 1 54 1
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 0
 109              		@ frame_needed = 1, uses_anonymous_args = 0
 110              		@ link register save eliminated.
 111 0000 80B4     		push	{r7}
 112              	.LCFI0:
 113              		.cfi_def_cfa_offset 4
 114              		.cfi_offset 7, -4
 115 0002 00AF     		add	r7, sp, #0
 116              	.LCFI1:
 117              		.cfi_def_cfa_register 7
  55:./system/system-task.c **** 
  56:./system/system-task.c **** }
 118              		.loc 1 56 1
 119 0004 00BF     		nop
 120 0006 BD46     		mov	sp, r7
 121              	.LCFI2:
 122              		.cfi_def_cfa_register 13
 123              		@ sp needed
 124 0008 80BC     		pop	{r7}
 125              	.LCFI3:
 126              		.cfi_restore 7
 127              		.cfi_def_cfa_offset 0
 128 000a 7047     		bx	lr
 129              		.cfi_endproc
 130              	.LFE33:
 132              		.section	.rodata
 133              		.align	2
 134              	.LC0:
 135 0000 0A72785F 		.ascii	"\012rx_buf-len:\000"
 135      6275662D 
 135      6C656E3A 
 135      00
 136 000d 000000   		.align	2
 137              	.LC1:
 138 0010 72785F62 		.ascii	"rx_buf:\000"
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 4


 138      75663A00 
 139              		.section	.text.uart_task,"ax",%progbits
 140              		.align	1
 141              		.global	uart_task
 142              		.syntax unified
 143              		.thumb
 144              		.thumb_func
 146              	uart_task:
 147              	.LFB34:
  57:./system/system-task.c **** //----------------------------------------------------------
  58:./system/system-task.c **** /**
  59:./system/system-task.c ****  * @brief a generic task to handle uart task 
  60:./system/system-task.c ****  * 
  61:./system/system-task.c ****  * @details this a uart task in which the system handle all send and receive
  62:./system/system-task.c ****  * 			data on this module it sleeps most of the time when a data is available 
  63:./system/system-task.c ****  * 			it simply wakes up and handles the received message (i.e a message command)
  64:./system/system-task.c ****  * 			it may send a response on the uart, perfom some reactions like changing the speed delay
  65:./system/system-task.c ****  * 			or just pass the message to raspnet stack
  66:./system/system-task.c ****  */
  67:./system/system-task.c **** void uart_task(void)
  68:./system/system-task.c **** {
 148              		.loc 1 68 1
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 16
 151              		@ frame_needed = 1, uses_anonymous_args = 0
 152 0000 80B5     		push	{r7, lr}
 153              	.LCFI4:
 154              		.cfi_def_cfa_offset 8
 155              		.cfi_offset 7, -8
 156              		.cfi_offset 14, -4
 157 0002 84B0     		sub	sp, sp, #16
 158              	.LCFI5:
 159              		.cfi_def_cfa_offset 24
 160 0004 00AF     		add	r7, sp, #0
 161              	.LCFI6:
 162              		.cfi_def_cfa_register 7
  69:./system/system-task.c **** 	char buf[16]="";
 163              		.loc 1 69 7
 164 0006 0023     		movs	r3, #0
 165 0008 3B60     		str	r3, [r7]
 166 000a 3B1D     		adds	r3, r7, #4
 167 000c 0022     		movs	r2, #0
 168 000e 1A60     		str	r2, [r3]
 169 0010 5A60     		str	r2, [r3, #4]
 170 0012 9A60     		str	r2, [r3, #8]
  70:./system/system-task.c **** 	switch(uart_state)
 171              		.loc 1 70 2
 172 0014 1D4B     		ldr	r3, .L9
 173 0016 1B78     		ldrb	r3, [r3]
 174 0018 DBB2     		uxtb	r3, r3
 175 001a 002B     		cmp	r3, #0
 176 001c 02D0     		beq	.L3
 177 001e 012B     		cmp	r3, #1
 178 0020 09D0     		beq	.L4
  71:./system/system-task.c **** 	{
  72:./system/system-task.c **** 		case UART_WAIT:
  73:./system/system-task.c **** 			//my_gnc.usb_ticks++;
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 5


  74:./system/system-task.c **** 			//if(uart_ticks> UART_WAIT_TIMEOUT)// || uart_data_is_available())
  75:./system/system-task.c **** 			if(uart_data_is_available())
  76:./system/system-task.c **** 				uart_state=UART_READ;
  77:./system/system-task.c **** 		 break;
  78:./system/system-task.c **** 		case UART_READ:
  79:./system/system-task.c **** 			 uart_print(USART1,"\nrx_buf-len:");			 
  80:./system/system-task.c **** 			 utoa(rx_buffer_length,buf,10);
  81:./system/system-task.c **** 			 uart_println(USART1,buf);			 
  82:./system/system-task.c **** 			 uart_print(USART1,"rx_buf:");			 
  83:./system/system-task.c **** 			 uart_println(USART1,(char*) rx_buffer);
  84:./system/system-task.c **** 
  85:./system/system-task.c **** 			 uart_handle_frame(USART1);
  86:./system/system-task.c **** 			 uart_reset_buffer();
  87:./system/system-task.c **** 			uart_ticks=0;
  88:./system/system-task.c **** 			uart_state=UART_WAIT;
  89:./system/system-task.c **** 		break;
  90:./system/system-task.c **** 	}
  91:./system/system-task.c **** }
 179              		.loc 1 91 1
 180 0022 2FE0     		b	.L8
 181              	.L3:
  75:./system/system-task.c **** 				uart_state=UART_READ;
 182              		.loc 1 75 7
 183 0024 FFF7FEFF 		bl	uart_data_is_available
 184 0028 0346     		mov	r3, r0
  75:./system/system-task.c **** 				uart_state=UART_READ;
 185              		.loc 1 75 6
 186 002a 002B     		cmp	r3, #0
 187 002c 29D0     		beq	.L7
  76:./system/system-task.c **** 		 break;
 188              		.loc 1 76 15
 189 002e 174B     		ldr	r3, .L9
 190 0030 0122     		movs	r2, #1
 191 0032 1A70     		strb	r2, [r3]
  77:./system/system-task.c **** 		case UART_READ:
 192              		.loc 1 77 4
 193 0034 25E0     		b	.L7
 194              	.L4:
  79:./system/system-task.c **** 			 utoa(rx_buffer_length,buf,10);
 195              		.loc 1 79 5
 196 0036 1649     		ldr	r1, .L9+4
 197 0038 1648     		ldr	r0, .L9+8
 198 003a FFF7FEFF 		bl	uart_print
  80:./system/system-task.c **** 			 uart_println(USART1,buf);			 
 199              		.loc 1 80 5
 200 003e 164B     		ldr	r3, .L9+12
 201 0040 1B78     		ldrb	r3, [r3]
 202 0042 DBB2     		uxtb	r3, r3
 203 0044 1846     		mov	r0, r3
 204 0046 3B46     		mov	r3, r7
 205 0048 0A22     		movs	r2, #10
 206 004a 1946     		mov	r1, r3
 207 004c FFF7FEFF 		bl	utoa
  81:./system/system-task.c **** 			 uart_print(USART1,"rx_buf:");			 
 208              		.loc 1 81 5
 209 0050 3B46     		mov	r3, r7
 210 0052 1946     		mov	r1, r3
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 6


 211 0054 0F48     		ldr	r0, .L9+8
 212 0056 FFF7FEFF 		bl	uart_println
  82:./system/system-task.c **** 			 uart_println(USART1,(char*) rx_buffer);
 213              		.loc 1 82 5
 214 005a 1049     		ldr	r1, .L9+16
 215 005c 0D48     		ldr	r0, .L9+8
 216 005e FFF7FEFF 		bl	uart_print
  83:./system/system-task.c **** 
 217              		.loc 1 83 5
 218 0062 0F49     		ldr	r1, .L9+20
 219 0064 0B48     		ldr	r0, .L9+8
 220 0066 FFF7FEFF 		bl	uart_println
  85:./system/system-task.c **** 			 uart_reset_buffer();
 221              		.loc 1 85 5
 222 006a 0A48     		ldr	r0, .L9+8
 223 006c FFF7FEFF 		bl	uart_handle_frame
  86:./system/system-task.c **** 			uart_ticks=0;
 224              		.loc 1 86 5
 225 0070 FFF7FEFF 		bl	uart_reset_buffer
  87:./system/system-task.c **** 			uart_state=UART_WAIT;
 226              		.loc 1 87 14
 227 0074 0B4B     		ldr	r3, .L9+24
 228 0076 0022     		movs	r2, #0
 229 0078 1A60     		str	r2, [r3]
  88:./system/system-task.c **** 		break;
 230              		.loc 1 88 14
 231 007a 044B     		ldr	r3, .L9
 232 007c 0022     		movs	r2, #0
 233 007e 1A70     		strb	r2, [r3]
  89:./system/system-task.c **** 	}
 234              		.loc 1 89 3
 235 0080 00E0     		b	.L5
 236              	.L7:
  77:./system/system-task.c **** 		case UART_READ:
 237              		.loc 1 77 4
 238 0082 00BF     		nop
 239              	.L5:
 240              	.L8:
 241              		.loc 1 91 1
 242 0084 00BF     		nop
 243 0086 1037     		adds	r7, r7, #16
 244              	.LCFI7:
 245              		.cfi_def_cfa_offset 8
 246 0088 BD46     		mov	sp, r7
 247              	.LCFI8:
 248              		.cfi_def_cfa_register 13
 249              		@ sp needed
 250 008a 80BD     		pop	{r7, pc}
 251              	.L10:
 252              		.align	2
 253              	.L9:
 254 008c 00000000 		.word	uart_state
 255 0090 00000000 		.word	.LC0
 256 0094 00380140 		.word	1073821696
 257 0098 00000000 		.word	rx_buffer_length
 258 009c 10000000 		.word	.LC1
 259 00a0 00000000 		.word	rx_buffer
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 7


 260 00a4 00000000 		.word	uart_ticks
 261              		.cfi_endproc
 262              	.LFE34:
 264              		.section	.rodata
 265              		.align	2
 266              	.LC2:
 267 0018 09204D50 		.ascii	"\011 MPU-ER::\000"
 267      552D4552 
 267      3A3A00
 268 0023 00       		.align	2
 269              	.LC3:
 270 0024 0A00     		.ascii	"\012\000"
 271              		.section	.text.mpu6050_task,"ax",%progbits
 272              		.align	1
 273              		.global	mpu6050_task
 274              		.syntax unified
 275              		.thumb
 276              		.thumb_func
 278              	mpu6050_task:
 279              	.LFB35:
  92:./system/system-task.c **** //-------------------------------------------------------------------------------------------------
  93:./system/system-task.c **** void mpu6050_task(void)
  94:./system/system-task.c **** {
 280              		.loc 1 94 1
 281              		.cfi_startproc
 282              		@ args = 0, pretend = 0, frame = 0
 283              		@ frame_needed = 1, uses_anonymous_args = 0
 284 0000 80B5     		push	{r7, lr}
 285              	.LCFI9:
 286              		.cfi_def_cfa_offset 8
 287              		.cfi_offset 7, -8
 288              		.cfi_offset 14, -4
 289 0002 00AF     		add	r7, sp, #0
 290              	.LCFI10:
 291              		.cfi_def_cfa_register 7
  95:./system/system-task.c **** 	static uint8_t rst=0;
  96:./system/system-task.c **** 		
  97:./system/system-task.c **** 	switch(mpu_state)
 292              		.loc 1 97 2
 293 0004 474B     		ldr	r3, .L27
 294 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 295 0008 042B     		cmp	r3, #4
 296 000a 00F28880 		bhi	.L23
 297 000e 01A2     		adr	r2, .L14
 298 0010 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 299              		.p2align 2
 300              	.L14:
 301 0014 29000000 		.word	.L18+1
 302 0018 4D000000 		.word	.L17+1
 303 001c D7000000 		.word	.L16+1
 304 0020 91000000 		.word	.L15+1
 305 0024 C9000000 		.word	.L13+1
 306              		.p2align 1
 307              	.L18:
  98:./system/system-task.c **** 	{
  99:./system/system-task.c **** 		case MPU_WAIT:
 100:./system/system-task.c **** 			if(mpu_ticks>=mpu_cycle)
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 8


 308              		.loc 1 100 16
 309 0028 3F4B     		ldr	r3, .L27+4
 310 002a 1A68     		ldr	r2, [r3]
 311 002c 3F4B     		ldr	r3, .L27+8
 312 002e 1B68     		ldr	r3, [r3]
 313              		.loc 1 100 6
 314 0030 9A42     		cmp	r2, r3
 315 0032 6FD3     		bcc	.L24
 101:./system/system-task.c **** 			{ 
 102:./system/system-task.c **** 			 if(mpu_settings.init_sucess)//mpu_init_sucess) 
 316              		.loc 1 102 20
 317 0034 3E4B     		ldr	r3, .L27+12
 318 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 319              		.loc 1 102 7
 320 0038 002B     		cmp	r3, #0
 321 003a 03D0     		beq	.L20
 103:./system/system-task.c **** 				 mpu_state=MPU_READ;
 322              		.loc 1 103 15
 323 003c 394B     		ldr	r3, .L27
 324 003e 0322     		movs	r2, #3
 325 0040 1A70     		strb	r2, [r3]
 104:./system/system-task.c **** 			 else						
 105:./system/system-task.c **** 				mpu_state=MPU_INIT;	
 106:./system/system-task.c **** 			}
 107:./system/system-task.c **** 		 	break;
 326              		.loc 1 107 5
 327 0042 67E0     		b	.L24
 328              	.L20:
 105:./system/system-task.c **** 			}
 329              		.loc 1 105 14
 330 0044 374B     		ldr	r3, .L27
 331 0046 0122     		movs	r2, #1
 332 0048 1A70     		strb	r2, [r3]
 333              		.loc 1 107 5
 334 004a 63E0     		b	.L24
 335              	.L17:
 108:./system/system-task.c **** 		case MPU_INIT:
 109:./system/system-task.c **** 			i2c_init_std(MPU6050_I2C,MPU6050_I2C_CLOCK,0x20);
 336              		.loc 1 109 4
 337 004c 2022     		movs	r2, #32
 338 004e 3949     		ldr	r1, .L27+16
 339 0050 3948     		ldr	r0, .L27+20
 340 0052 FFF7FEFF 		bl	i2c_init_std
 110:./system/system-task.c **** 			rst=mpu6050_init((MPU6050_t *)&myMPU6050,mpu_settings.accel_range, mpu_settings.gyro_range);//MP
 341              		.loc 1 110 57
 342 0056 364B     		ldr	r3, .L27+12
 343 0058 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 344              		.loc 1 110 83
 345 005a 354A     		ldr	r2, .L27+12
 346 005c 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 347              		.loc 1 110 8
 348 005e 1946     		mov	r1, r3
 349 0060 3648     		ldr	r0, .L27+24
 350 0062 FFF7FEFF 		bl	mpu6050_init
 351 0066 0346     		mov	r3, r0
 352 0068 1A46     		mov	r2, r3
 353              		.loc 1 110 7
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 9


 354 006a 354B     		ldr	r3, .L27+28
 355 006c 1A70     		strb	r2, [r3]
 111:./system/system-task.c **** 			mpu_settings.init_sucess=0;//mpu_init_sucess=0;
 356              		.loc 1 111 28
 357 006e 304B     		ldr	r3, .L27+12
 358 0070 0022     		movs	r2, #0
 359 0072 1A70     		strb	r2, [r3]
 112:./system/system-task.c **** 			mpu_state=MPU_ERROR;
 360              		.loc 1 112 13
 361 0074 2B4B     		ldr	r3, .L27
 362 0076 0222     		movs	r2, #2
 363 0078 1A70     		strb	r2, [r3]
 113:./system/system-task.c **** 			if(rst==I2C_OK)
 364              		.loc 1 113 10
 365 007a 314B     		ldr	r3, .L27+28
 366 007c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 367              		.loc 1 113 6
 368 007e 002B     		cmp	r3, #0
 369 0080 4AD1     		bne	.L25
 114:./system/system-task.c **** 			{
 115:./system/system-task.c **** 			 mpu_settings.init_sucess=1;//mpu_init_sucess=1;
 370              		.loc 1 115 29
 371 0082 2B4B     		ldr	r3, .L27+12
 372 0084 0122     		movs	r2, #1
 373 0086 1A70     		strb	r2, [r3]
 116:./system/system-task.c **** 			 mpu_state=MPU_READ;
 374              		.loc 1 116 14
 375 0088 264B     		ldr	r3, .L27
 376 008a 0322     		movs	r2, #3
 377 008c 1A70     		strb	r2, [r3]
 117:./system/system-task.c **** 			}
 118:./system/system-task.c **** 		 	break;
 378              		.loc 1 118 5
 379 008e 43E0     		b	.L25
 380              	.L15:
 119:./system/system-task.c **** 		case MPU_READ:
 120:./system/system-task.c **** 						rst=mpu6050_read((MPU6050_t *)&myMPU6050,mpu_settings.acq_mode);
 381              		.loc 1 120 11
 382 0090 274B     		ldr	r3, .L27+12
 383 0092 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 384 0094 1946     		mov	r1, r3
 385 0096 2948     		ldr	r0, .L27+24
 386 0098 FFF7FEFF 		bl	mpu6050_read
 387 009c 0346     		mov	r3, r0
 388 009e 1A46     		mov	r2, r3
 389              		.loc 1 120 10
 390 00a0 274B     		ldr	r3, .L27+28
 391 00a2 1A70     		strb	r2, [r3]
 121:./system/system-task.c **** 						mpu_state=MPU_ERROR;
 392              		.loc 1 121 16
 393 00a4 1F4B     		ldr	r3, .L27
 394 00a6 0222     		movs	r2, #2
 395 00a8 1A70     		strb	r2, [r3]
 122:./system/system-task.c **** 						if(rst==I2C_OK)
 396              		.loc 1 122 13
 397 00aa 254B     		ldr	r3, .L27+28
 398 00ac 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 10


 399              		.loc 1 122 9
 400 00ae 002B     		cmp	r3, #0
 401 00b0 34D1     		bne	.L26
 123:./system/system-task.c **** 						{
 124:./system/system-task.c **** 							mpu6050_uart_print(USART1,(MPU6050_t *)&myMPU6050,mpu_settings.acq_mode);
 402              		.loc 1 124 8
 403 00b2 1F4B     		ldr	r3, .L27+12
 404 00b4 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 405 00b6 1A46     		mov	r2, r3
 406 00b8 2049     		ldr	r1, .L27+24
 407 00ba 2248     		ldr	r0, .L27+32
 408 00bc FFF7FEFF 		bl	mpu6050_uart_print
 125:./system/system-task.c **** 			  			mpu_state=MPU_PROC;
 409              		.loc 1 125 18
 410 00c0 184B     		ldr	r3, .L27
 411 00c2 0422     		movs	r2, #4
 412 00c4 1A70     		strb	r2, [r3]
 126:./system/system-task.c **** 						}
 127:./system/system-task.c **** 			break;
 413              		.loc 1 127 4
 414 00c6 29E0     		b	.L26
 415              	.L13:
 128:./system/system-task.c **** 		case MPU_PROC :
 129:./system/system-task.c **** 				mpu_ticks=0;
 416              		.loc 1 129 14
 417 00c8 174B     		ldr	r3, .L27+4
 418 00ca 0022     		movs	r2, #0
 419 00cc 1A60     		str	r2, [r3]
 130:./system/system-task.c **** 			  mpu_state=MPU_WAIT;
 420              		.loc 1 130 15
 421 00ce 154B     		ldr	r3, .L27
 422 00d0 0022     		movs	r2, #0
 423 00d2 1A70     		strb	r2, [r3]
 131:./system/system-task.c **** 			  break;
 424              		.loc 1 131 6
 425 00d4 23E0     		b	.L12
 426              	.L16:
 132:./system/system-task.c **** 
 133:./system/system-task.c **** 		case MPU_ERROR:
 134:./system/system-task.c **** 			uart_print(USART1,"\t MPU-ER::");
 427              		.loc 1 134 4
 428 00d6 1C49     		ldr	r1, .L27+36
 429 00d8 1A48     		ldr	r0, .L27+32
 430 00da FFF7FEFF 		bl	uart_print
 135:./system/system-task.c ****     	uart_print_integer(USART1,rst,10);
 431              		.loc 1 135 6
 432 00de 184B     		ldr	r3, .L27+28
 433 00e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 434 00e2 0A22     		movs	r2, #10
 435 00e4 1946     		mov	r1, r3
 436 00e6 1748     		ldr	r0, .L27+32
 437 00e8 FFF7FEFF 		bl	uart_print_integer
 136:./system/system-task.c ****     	uart_print(USART1,"\n");
 438              		.loc 1 136 6
 439 00ec 1749     		ldr	r1, .L27+40
 440 00ee 1548     		ldr	r0, .L27+32
 441 00f0 FFF7FEFF 		bl	uart_print
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 11


 137:./system/system-task.c **** 			i2c_uart_print(USART1);			
 442              		.loc 1 137 4
 443 00f4 1348     		ldr	r0, .L27+32
 444 00f6 FFF7FEFF 		bl	i2c_uart_print
 138:./system/system-task.c **** 			mpu6050_error_handle((MPU6050_t *)&myMPU6050);
 445              		.loc 1 138 4
 446 00fa 1048     		ldr	r0, .L27+24
 447 00fc FFF7FEFF 		bl	mpu6050_error_handle
 139:./system/system-task.c **** 			mpu_settings.init_sucess=0;//mpu_init_sucess=0;
 448              		.loc 1 139 28
 449 0100 0B4B     		ldr	r3, .L27+12
 450 0102 0022     		movs	r2, #0
 451 0104 1A70     		strb	r2, [r3]
 140:./system/system-task.c **** 			mpu_ticks=0;
 452              		.loc 1 140 13
 453 0106 084B     		ldr	r3, .L27+4
 454 0108 0022     		movs	r2, #0
 455 010a 1A60     		str	r2, [r3]
 141:./system/system-task.c **** 			mpu_state=MPU_WAIT;
 456              		.loc 1 141 13
 457 010c 054B     		ldr	r3, .L27
 458 010e 0022     		movs	r2, #0
 459 0110 1A70     		strb	r2, [r3]
 142:./system/system-task.c **** 		break;
 460              		.loc 1 142 3
 461 0112 04E0     		b	.L12
 462              	.L24:
 107:./system/system-task.c **** 		case MPU_INIT:
 463              		.loc 1 107 5
 464 0114 00BF     		nop
 465 0116 02E0     		b	.L23
 466              	.L25:
 118:./system/system-task.c **** 		case MPU_READ:
 467              		.loc 1 118 5
 468 0118 00BF     		nop
 469 011a 00E0     		b	.L23
 470              	.L26:
 127:./system/system-task.c **** 		case MPU_PROC :
 471              		.loc 1 127 4
 472 011c 00BF     		nop
 473              	.L12:
 474              	.L23:
 143:./system/system-task.c **** 	}
 144:./system/system-task.c **** 
 145:./system/system-task.c **** 
 146:./system/system-task.c **** 				  /*
 147:./system/system-task.c **** 				uart_println (USART1,"...............");
 148:./system/system-task.c **** 			  uart_println (USART1,"MPU6050 integer Data ...");
 149:./system/system-task.c **** 			  mpu6050_uart_print_All(USART1,(MPU6050_t *)&myMPU6050);			  
 150:./system/system-task.c **** 			  uart_println (USART1,"MPU6050 Hex Data ...");
 151:./system/system-task.c **** 			  mpu6050_uart_print_raw_Data(USART1,(MPU6050_t *)&myMPU6050);
 152:./system/system-task.c **** 			  uart_println (USART1,"MPU6050 Raw Data ...");
 153:./system/system-task.c **** 			  mpu6050_uart_print_raw_Array(USART1,(MPU6050_t *)&myMPU6050);
 154:./system/system-task.c **** 			  uart_println (USART1,"...............");						
 155:./system/system-task.c **** 				*/
 156:./system/system-task.c **** 
 157:./system/system-task.c **** }
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 12


 475              		.loc 1 157 1
 476 011e 00BF     		nop
 477 0120 80BD     		pop	{r7, pc}
 478              	.L28:
 479 0122 00BF     		.align	2
 480              	.L27:
 481 0124 00000000 		.word	mpu_state
 482 0128 00000000 		.word	mpu_ticks
 483 012c 00000000 		.word	mpu_cycle
 484 0130 00000000 		.word	mpu_settings
 485 0134 801A0600 		.word	400000
 486 0138 00540040 		.word	1073763328
 487 013c 00000000 		.word	myMPU6050
 488 0140 00000000 		.word	rst.0
 489 0144 00380140 		.word	1073821696
 490 0148 18000000 		.word	.LC2
 491 014c 24000000 		.word	.LC3
 492              		.cfi_endproc
 493              	.LFE35:
 495              		.section	.text.keypad_task,"ax",%progbits
 496              		.align	1
 497              		.global	keypad_task
 498              		.syntax unified
 499              		.thumb
 500              		.thumb_func
 502              	keypad_task:
 503              	.LFB36:
 158:./system/system-task.c **** //----------------------------------------------------------
 159:./system/system-task.c **** void keypad_task()
 160:./system/system-task.c **** {
 504              		.loc 1 160 1
 505              		.cfi_startproc
 506              		@ args = 0, pretend = 0, frame = 0
 507              		@ frame_needed = 1, uses_anonymous_args = 0
 508 0000 80B5     		push	{r7, lr}
 509              	.LCFI11:
 510              		.cfi_def_cfa_offset 8
 511              		.cfi_offset 7, -8
 512              		.cfi_offset 14, -4
 513 0002 00AF     		add	r7, sp, #0
 514              	.LCFI12:
 515              		.cfi_def_cfa_register 7
 161:./system/system-task.c ****  //uint8_t scan_val=0;
 162:./system/system-task.c ****    switch(keypad_state)
 516              		.loc 1 162 4
 517 0004 1E4B     		ldr	r3, .L41
 518 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 519 0008 042B     		cmp	r3, #4
 520 000a 36D8     		bhi	.L38
 521 000c 01A2     		adr	r2, .L32
 522 000e 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 523 0012 00BF     		.p2align 2
 524              	.L32:
 525 0014 29000000 		.word	.L35+1
 526 0018 7B000000 		.word	.L38+1
 527 001c 3D000000 		.word	.L34+1
 528 0020 57000000 		.word	.L33+1
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 13


 529 0024 63000000 		.word	.L31+1
 530              		.p2align 1
 531              	.L35:
 163:./system/system-task.c ****    {
 164:./system/system-task.c **** 
 165:./system/system-task.c **** 		case KEYPAD_WAIT:
 166:./system/system-task.c **** 				if(keypad_ticks>=KEYPAD_WAIT_TIMEOUT)
 532              		.loc 1 166 20
 533 0028 164B     		ldr	r3, .L41+4
 534 002a 1B68     		ldr	r3, [r3]
 535              		.loc 1 166 7
 536 002c 47F22F52 		movw	r2, #29999
 537 0030 9342     		cmp	r3, r2
 538 0032 1FD9     		bls	.L39
 167:./system/system-task.c **** 					keypad_state=KEYPAD_DEBOUNCE;
 539              		.loc 1 167 18
 540 0034 124B     		ldr	r3, .L41
 541 0036 0222     		movs	r2, #2
 542 0038 1A70     		strb	r2, [r3]
 168:./system/system-task.c **** 				break;
 543              		.loc 1 168 5
 544 003a 1BE0     		b	.L39
 545              	.L34:
 169:./system/system-task.c **** 		case KEYPAD_DEBOUNCE:
 170:./system/system-task.c **** 				if(keypad_debounce_cnt>=KEYPAD_DEBOUNCE_TIMEOUT)
 546              		.loc 1 170 27
 547 003c 124B     		ldr	r3, .L41+8
 548 003e 1B68     		ldr	r3, [r3]
 549              		.loc 1 170 7
 550 0040 40F6AB52 		movw	r2, #3499
 551 0044 9342     		cmp	r3, r2
 552 0046 17D9     		bls	.L40
 171:./system/system-task.c **** 				{
 172:./system/system-task.c **** 					keypad_debounce_cnt=0;
 553              		.loc 1 172 25
 554 0048 0F4B     		ldr	r3, .L41+8
 555 004a 0022     		movs	r2, #0
 556 004c 1A60     		str	r2, [r3]
 173:./system/system-task.c **** 					keypad_state=KEYPAD_SCAN;
 557              		.loc 1 173 18
 558 004e 0C4B     		ldr	r3, .L41
 559 0050 0322     		movs	r2, #3
 560 0052 1A70     		strb	r2, [r3]
 174:./system/system-task.c **** 				}
 175:./system/system-task.c **** 		        break;
 561              		.loc 1 175 11
 562 0054 10E0     		b	.L40
 563              	.L33:
 176:./system/system-task.c **** 		case KEYPAD_SCAN:
 177:./system/system-task.c **** 				// read the keys pin status
 178:./system/system-task.c **** 			    keypad_scan(); 
 564              		.loc 1 178 8
 565 0056 FFF7FEFF 		bl	keypad_scan
 179:./system/system-task.c **** 
 180:./system/system-task.c **** 			    //scan_val=keypad_scan(); 
 181:./system/system-task.c ****                 //lcd_print_uint8_xy(12,0,scan_val,10);
 182:./system/system-task.c **** 				keypad_state=KEYPAD_PROCESS;
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 14


 566              		.loc 1 182 17
 567 005a 094B     		ldr	r3, .L41
 568 005c 0422     		movs	r2, #4
 569 005e 1A70     		strb	r2, [r3]
 183:./system/system-task.c **** 				break;
 570              		.loc 1 183 5
 571 0060 0BE0     		b	.L30
 572              	.L31:
 184:./system/system-task.c **** 
 185:./system/system-task.c **** 		case KEYPAD_PROCESS:
 186:./system/system-task.c **** 			    keypad_process();
 573              		.loc 1 186 8
 574 0062 FFF7FEFF 		bl	keypad_process
 187:./system/system-task.c **** 				keypad_ticks=0;
 575              		.loc 1 187 17
 576 0066 074B     		ldr	r3, .L41+4
 577 0068 0022     		movs	r2, #0
 578 006a 1A60     		str	r2, [r3]
 188:./system/system-task.c **** 				keypad_state=KEYPAD_WAIT;
 579              		.loc 1 188 17
 580 006c 044B     		ldr	r3, .L41
 581 006e 0022     		movs	r2, #0
 582 0070 1A70     		strb	r2, [r3]
 189:./system/system-task.c **** 				break;
 583              		.loc 1 189 5
 584 0072 02E0     		b	.L30
 585              	.L39:
 168:./system/system-task.c **** 		case KEYPAD_DEBOUNCE:
 586              		.loc 1 168 5
 587 0074 00BF     		nop
 588 0076 00E0     		b	.L38
 589              	.L40:
 175:./system/system-task.c **** 		case KEYPAD_SCAN:
 590              		.loc 1 175 11
 591 0078 00BF     		nop
 592              	.L30:
 593              	.L38:
 190:./system/system-task.c **** 	}
 191:./system/system-task.c **** }
 594              		.loc 1 191 1
 595 007a 00BF     		nop
 596 007c 80BD     		pop	{r7, pc}
 597              	.L42:
 598 007e 00BF     		.align	2
 599              	.L41:
 600 0080 00000000 		.word	keypad_state
 601 0084 00000000 		.word	keypad_ticks
 602 0088 00000000 		.word	keypad_debounce_cnt
 603              		.cfi_endproc
 604              	.LFE36:
 606              		.section	.rodata
 607 0026 0000     		.align	2
 608              	.LC4:
 609 0028 73746D33 		.ascii	"stm32f10x \000"
 609      32663130 
 609      782000
 610 0033 00       		.align	2
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 15


 611              	.LC5:
 612 0034 54494D32 		.ascii	"TIM2...  \000"
 612      2E2E2E20 
 612      2000
 613 003e 0000     		.align	2
 614              	.LC6:
 615 0040 20202020 		.ascii	"       \000"
 615      20202000 
 616              		.section	.text.lcd_task,"ax",%progbits
 617              		.align	1
 618              		.global	lcd_task
 619              		.syntax unified
 620              		.thumb
 621              		.thumb_func
 623              	lcd_task:
 624              	.LFB37:
 192:./system/system-task.c **** //-------------------------------------------------------------------------------------------------
 193:./system/system-task.c **** void lcd_task(void)
 194:./system/system-task.c **** {
 625              		.loc 1 194 1
 626              		.cfi_startproc
 627              		@ args = 0, pretend = 0, frame = 0
 628              		@ frame_needed = 1, uses_anonymous_args = 0
 629 0000 80B5     		push	{r7, lr}
 630              	.LCFI13:
 631              		.cfi_def_cfa_offset 8
 632              		.cfi_offset 7, -8
 633              		.cfi_offset 14, -4
 634 0002 00AF     		add	r7, sp, #0
 635              	.LCFI14:
 636              		.cfi_def_cfa_register 7
 195:./system/system-task.c ****   if(lcd_update)
 637              		.loc 1 195 6
 638 0004 0D4B     		ldr	r3, .L46
 639 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 640              		.loc 1 195 5
 641 0008 002B     		cmp	r3, #0
 642 000a 15D0     		beq	.L45
 196:./system/system-task.c ****   {
 197:./system/system-task.c **** 
 198:./system/system-task.c ****     lcd_update=0;
 643              		.loc 1 198 15
 644 000c 0B4B     		ldr	r3, .L46
 645 000e 0022     		movs	r2, #0
 646 0010 1A70     		strb	r2, [r3]
 199:./system/system-task.c ****     //lcd_clear();
 200:./system/system-task.c ****     lcd_print_xy(0,0,"stm32f10x ");
 647              		.loc 1 200 5
 648 0012 0B4A     		ldr	r2, .L46+4
 649 0014 0021     		movs	r1, #0
 650 0016 0020     		movs	r0, #0
 651 0018 FFF7FEFF 		bl	lcd_print_xy
 201:./system/system-task.c ****     lcd_print_xy(0,1,"TIM2...  ");
 652              		.loc 1 201 5
 653 001c 094A     		ldr	r2, .L46+8
 654 001e 0121     		movs	r1, #1
 655 0020 0020     		movs	r0, #0
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 16


 656 0022 FFF7FEFF 		bl	lcd_print_xy
 202:./system/system-task.c ****     lcd_print_uint8(relays.val,10);
 657              		.loc 1 202 5
 658 0026 084B     		ldr	r3, .L46+12
 659 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 660 002a 0A21     		movs	r1, #10
 661 002c 1846     		mov	r0, r3
 662 002e FFF7FEFF 		bl	lcd_print_uint8
 203:./system/system-task.c **** 	  lcd_print("       ");
 663              		.loc 1 203 4
 664 0032 0648     		ldr	r0, .L46+16
 665 0034 FFF7FEFF 		bl	lcd_print
 666              	.L45:
 204:./system/system-task.c **** 	
 205:./system/system-task.c **** 		//uart_print(USART1,"RLY:");
 206:./system/system-task.c **** 		//uart_print_integer(USART1, relays.val,10);//t.word);
 207:./system/system-task.c **** 		//uart_print(USART1,"\r\n");
 208:./system/system-task.c ****   }
 209:./system/system-task.c **** }
 667              		.loc 1 209 1
 668 0038 00BF     		nop
 669 003a 80BD     		pop	{r7, pc}
 670              	.L47:
 671              		.align	2
 672              	.L46:
 673 003c 00000000 		.word	lcd_update
 674 0040 28000000 		.word	.LC4
 675 0044 34000000 		.word	.LC5
 676 0048 00000000 		.word	relays
 677 004c 40000000 		.word	.LC6
 678              		.cfi_endproc
 679              	.LFE37:
 681              		.section	.text.X_input_task,"ax",%progbits
 682              		.align	1
 683              		.global	X_input_task
 684              		.syntax unified
 685              		.thumb
 686              		.thumb_func
 688              	X_input_task:
 689              	.LFB38:
 210:./system/system-task.c **** //----------------------------------------------------------
 211:./system/system-task.c **** void X_input_task(void)
 212:./system/system-task.c **** {
 690              		.loc 1 212 1
 691              		.cfi_startproc
 692              		@ args = 0, pretend = 0, frame = 0
 693              		@ frame_needed = 1, uses_anonymous_args = 0
 694              		@ link register save eliminated.
 695 0000 80B4     		push	{r7}
 696              	.LCFI15:
 697              		.cfi_def_cfa_offset 4
 698              		.cfi_offset 7, -4
 699 0002 00AF     		add	r7, sp, #0
 700              	.LCFI16:
 701              		.cfi_def_cfa_register 7
 213:./system/system-task.c **** 
 214:./system/system-task.c **** }
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 17


 702              		.loc 1 214 1
 703 0004 00BF     		nop
 704 0006 BD46     		mov	sp, r7
 705              	.LCFI17:
 706              		.cfi_def_cfa_register 13
 707              		@ sp needed
 708 0008 80BC     		pop	{r7}
 709              	.LCFI18:
 710              		.cfi_restore 7
 711              		.cfi_def_cfa_offset 0
 712 000a 7047     		bx	lr
 713              		.cfi_endproc
 714              	.LFE38:
 716              		.section	.text.X_output_task,"ax",%progbits
 717              		.align	1
 718              		.global	X_output_task
 719              		.syntax unified
 720              		.thumb
 721              		.thumb_func
 723              	X_output_task:
 724              	.LFB39:
 215:./system/system-task.c **** //----------------------------------------------------------
 216:./system/system-task.c **** void X_output_task(void)
 217:./system/system-task.c **** {
 725              		.loc 1 217 1
 726              		.cfi_startproc
 727              		@ args = 0, pretend = 0, frame = 0
 728              		@ frame_needed = 1, uses_anonymous_args = 0
 729              		@ link register save eliminated.
 730 0000 80B4     		push	{r7}
 731              	.LCFI19:
 732              		.cfi_def_cfa_offset 4
 733              		.cfi_offset 7, -4
 734 0002 00AF     		add	r7, sp, #0
 735              	.LCFI20:
 736              		.cfi_def_cfa_register 7
 218:./system/system-task.c **** 
 219:./system/system-task.c **** }
 737              		.loc 1 219 1
 738 0004 00BF     		nop
 739 0006 BD46     		mov	sp, r7
 740              	.LCFI21:
 741              		.cfi_def_cfa_register 13
 742              		@ sp needed
 743 0008 80BC     		pop	{r7}
 744              	.LCFI22:
 745              		.cfi_restore 7
 746              		.cfi_def_cfa_offset 0
 747 000a 7047     		bx	lr
 748              		.cfi_endproc
 749              	.LFE39:
 751              		.section	.text.rtc_task,"ax",%progbits
 752              		.align	1
 753              		.global	rtc_task
 754              		.syntax unified
 755              		.thumb
 756              		.thumb_func
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 18


 758              	rtc_task:
 759              	.LFB40:
 220:./system/system-task.c **** //----------------------------------------------------------
 221:./system/system-task.c **** void rtc_task()
 222:./system/system-task.c **** {
 760              		.loc 1 222 1
 761              		.cfi_startproc
 762              		@ args = 0, pretend = 0, frame = 0
 763              		@ frame_needed = 1, uses_anonymous_args = 0
 764 0000 80B5     		push	{r7, lr}
 765              	.LCFI23:
 766              		.cfi_def_cfa_offset 8
 767              		.cfi_offset 7, -8
 768              		.cfi_offset 14, -4
 769 0002 00AF     		add	r7, sp, #0
 770              	.LCFI24:
 771              		.cfi_def_cfa_register 7
 223:./system/system-task.c **** 
 224:./system/system-task.c **** 	switch(rtc_state)
 772              		.loc 1 224 2
 773 0004 144B     		ldr	r3, .L57
 774 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 775 0008 002B     		cmp	r3, #0
 776 000a 02D0     		beq	.L51
 777 000c 012B     		cmp	r3, #1
 778 000e 0CD0     		beq	.L52
 225:./system/system-task.c **** 	{
 226:./system/system-task.c **** 		case RTC_WAIT:
 227:./system/system-task.c **** 
 228:./system/system-task.c **** 			if(rtc_ticks> RTC_WAIT_TIMEOUT)
 229:./system/system-task.c **** 			{
 230:./system/system-task.c **** 			 rtc_state=RTC_RUN;
 231:./system/system-task.c **** 			 rtc_ticks=0;
 232:./system/system-task.c **** 			}
 233:./system/system-task.c **** 		break;
 234:./system/system-task.c **** 		case RTC_RUN:
 235:./system/system-task.c **** 					system_rtc();
 236:./system/system-task.c ****           gpio_toggle(blink_led);
 237:./system/system-task.c **** 				systemticks++;
 238:./system/system-task.c **** 			rtc_ticks=0;
 239:./system/system-task.c **** 			rtc_state=RTC_WAIT;
 240:./system/system-task.c **** 		break;
 241:./system/system-task.c **** 
 242:./system/system-task.c **** 	}
 243:./system/system-task.c **** 
 244:./system/system-task.c **** }
 779              		.loc 1 244 1
 780 0010 1FE0     		b	.L56
 781              	.L51:
 228:./system/system-task.c **** 			{
 782              		.loc 1 228 16
 783 0012 124B     		ldr	r3, .L57+4
 784 0014 1B68     		ldr	r3, [r3]
 228:./system/system-task.c **** 			{
 785              		.loc 1 228 6
 786 0016 124A     		ldr	r2, .L57+8
 787 0018 9342     		cmp	r3, r2
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 19


 788 001a 19D9     		bls	.L55
 230:./system/system-task.c **** 			 rtc_ticks=0;
 789              		.loc 1 230 14
 790 001c 0E4B     		ldr	r3, .L57
 791 001e 0122     		movs	r2, #1
 792 0020 1A70     		strb	r2, [r3]
 231:./system/system-task.c **** 			}
 793              		.loc 1 231 14
 794 0022 0E4B     		ldr	r3, .L57+4
 795 0024 0022     		movs	r2, #0
 796 0026 1A60     		str	r2, [r3]
 233:./system/system-task.c **** 		case RTC_RUN:
 797              		.loc 1 233 3
 798 0028 12E0     		b	.L55
 799              	.L52:
 235:./system/system-task.c ****           gpio_toggle(blink_led);
 800              		.loc 1 235 6
 801 002a FFF7FEFF 		bl	system_rtc
 236:./system/system-task.c **** 				systemticks++;
 802              		.loc 1 236 11
 803 002e 0D4B     		ldr	r3, .L57+12
 804 0030 93E80300 		ldm	r3, {r0, r1}
 805 0034 FFF7FEFF 		bl	gpio_toggle
 237:./system/system-task.c **** 			rtc_ticks=0;
 806              		.loc 1 237 16
 807 0038 0B4B     		ldr	r3, .L57+16
 808 003a 1B68     		ldr	r3, [r3]
 809 003c 0133     		adds	r3, r3, #1
 810 003e 0A4A     		ldr	r2, .L57+16
 811 0040 1360     		str	r3, [r2]
 238:./system/system-task.c **** 			rtc_state=RTC_WAIT;
 812              		.loc 1 238 13
 813 0042 064B     		ldr	r3, .L57+4
 814 0044 0022     		movs	r2, #0
 815 0046 1A60     		str	r2, [r3]
 239:./system/system-task.c **** 		break;
 816              		.loc 1 239 13
 817 0048 034B     		ldr	r3, .L57
 818 004a 0022     		movs	r2, #0
 819 004c 1A70     		strb	r2, [r3]
 240:./system/system-task.c **** 
 820              		.loc 1 240 3
 821 004e 00E0     		b	.L53
 822              	.L55:
 233:./system/system-task.c **** 		case RTC_RUN:
 823              		.loc 1 233 3
 824 0050 00BF     		nop
 825              	.L53:
 826              	.L56:
 827              		.loc 1 244 1
 828 0052 00BF     		nop
 829 0054 80BD     		pop	{r7, pc}
 830              	.L58:
 831 0056 00BF     		.align	2
 832              	.L57:
 833 0058 00000000 		.word	rtc_state
 834 005c 00000000 		.word	rtc_ticks
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 20


 835 0060 A0860100 		.word	100000
 836 0064 00000000 		.word	blink_led
 837 0068 00000000 		.word	systemticks
 838              		.cfi_endproc
 839              	.LFE40:
 841              		.section	.bss.rst.0,"aw",%nobits
 844              	rst.0:
 845 0000 00       		.space	1
 846              		.text
 847              	.Letext0:
 848              		.file 2 "c:\\arm-tool\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_t
 849              		.file 3 "c:\\arm-tool\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 850              		.file 4 "./.driver/CMSIS/Device/STM32F10x/stm32f10x.h"
 851              		.file 5 "./basic/gpio.h"
 852              		.file 6 "./mpu6050/mpu6050.h"
 853              		.file 7 "./i2c/i2c-std.h"
 854              		.file 8 "./uart/uart.h"
 855              		.file 9 "./system/system-task.h"
 856              		.file 10 "./system/system.h"
 857              		.file 11 "./init/init.h"
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 21


DEFINED SYMBOLS
                            *ABS*:00000000 system-task.c
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:21     .bss.keypad_state:00000000 keypad_state
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:22     .bss.keypad_state:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:28     .bss.keypad_ticks:00000000 keypad_ticks
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:25     .bss.keypad_ticks:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:35     .bss.keypad_debounce_cnt:00000000 keypad_debounce_cnt
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:32     .bss.keypad_debounce_cnt:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:41     .bss.lcd_state:00000000 lcd_state
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:42     .bss.lcd_state:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:48     .bss.lcd_ticks:00000000 lcd_ticks
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:45     .bss.lcd_ticks:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:54     .bss.pilot_state:00000000 pilot_state
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:55     .bss.pilot_state:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:61     .bss.pilot_ticks:00000000 pilot_ticks
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:58     .bss.pilot_ticks:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:67     .bss.rtc_state:00000000 rtc_state
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:68     .bss.rtc_state:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:74     .bss.rtc_ticks:00000000 rtc_ticks
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:71     .bss.rtc_ticks:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:80     .bss.mpu_state:00000000 mpu_state
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:81     .bss.mpu_state:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:87     .bss.mpu_ticks:00000000 mpu_ticks
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:84     .bss.mpu_ticks:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:94     .data.mpu_cycle:00000000 mpu_cycle
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:91     .data.mpu_cycle:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:97     .text.adc_task:00000000 $t
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:103    .text.adc_task:00000000 adc_task
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:133    .rodata:00000000 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:140    .text.uart_task:00000000 $t
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:146    .text.uart_task:00000000 uart_task
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:254    .text.uart_task:0000008c $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:272    .text.mpu6050_task:00000000 $t
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:278    .text.mpu6050_task:00000000 mpu6050_task
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:301    .text.mpu6050_task:00000014 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:306    .text.mpu6050_task:00000028 $t
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:481    .text.mpu6050_task:00000124 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:844    .bss.rst.0:00000000 rst.0
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:496    .text.keypad_task:00000000 $t
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:502    .text.keypad_task:00000000 keypad_task
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:525    .text.keypad_task:00000014 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:530    .text.keypad_task:00000028 $t
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:600    .text.keypad_task:00000080 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:617    .text.lcd_task:00000000 $t
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:623    .text.lcd_task:00000000 lcd_task
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:673    .text.lcd_task:0000003c $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:682    .text.X_input_task:00000000 $t
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:688    .text.X_input_task:00000000 X_input_task
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:717    .text.X_output_task:00000000 $t
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:723    .text.X_output_task:00000000 X_output_task
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:752    .text.rtc_task:00000000 $t
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:758    .text.rtc_task:00000000 rtc_task
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:833    .text.rtc_task:00000058 $d
C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s:845    .bss.rst.0:00000000 $d
                           .group:00000000 wm4.0.f4779009c199947b70d43074c2c41c8e
                           .group:00000000 wm4.stm32f10x.h.50.d4f13d34ecdc4ac490487d4d35cb5131
                           .group:00000000 wm4.core_cm3.h.25.d35e9a9b04ec4aaebae9bf79fff061f9
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 22


                           .group:00000000 wm4._newlib_version.h.4.bfdf54b0af045d4a71376ae00f63a22c
                           .group:00000000 wm4.features.h.33.318b64d71e0957639cfb30f1db1f7ec8
                           .group:00000000 wm4._default_types.h.15.247e5cd201eca3442cbf5404108c4935
                           .group:00000000 wm4._intsup.h.10.48bafbb683905c4daa4565a85aeeb264
                           .group:00000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:00000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:00000000 wm4.core_cm3.h.113.b286929a54d33b4c8909a7132437b244
                           .group:00000000 wm4.stm32f10x.h.525.b40cb5ee4fd40825ea8ccc10ea6f4722
                           .group:00000000 wm4.stm32f10x_adc.h.82.085dab8bb2bdf6609e97ee2fc7a88347
                           .group:00000000 wm4.stm32f10x_bkp.h.24.9f1bb2b1135ba72667dd3fcde11cf4b7
                           .group:00000000 wm4.stm32f10x_can.h.24.b871c380ea975c71825bf46cccde3c7a
                           .group:00000000 wm4.stm32f10x_cec.h.24.a1ee61cba6b8120b5bab40528e933770
                           .group:00000000 wm4.stm32f10x_dac.h.24.39482d0fe30ddea181f0c79f49fb629e
                           .group:00000000 wm4.stm32f10x_dbgmcu.h.24.f73145056e79bc5a93dd6677b2b33d54
                           .group:00000000 wm4.stm32f10x_dma.h.24.a48d4478db5b2956954d84bc5fd35ae1
                           .group:00000000 wm4.stm32f10x_exti.h.24.377f48157d7e463bb3841cf6c97a1c93
                           .group:00000000 wm4.stm32f10x_flash.h.24.877157533caf7ce4331c44a3d0ea5612
                           .group:00000000 wm4.stm32f10x_fsmc.h.24.0518485f192fab09dd5cfc912ded3186
                           .group:00000000 wm4.stm32f10x_gpio.h.24.b627ee324fedf5e3b8730fa015ea30de
                           .group:00000000 wm4.stm32f10x_i2c.h.24.8bc26b82f9e7563ca7234eabea47534c
                           .group:00000000 wm4.stm32f10x_iwdg.h.24.129c4cff233d2076aefd5fc4fbf5956b
                           .group:00000000 wm4.stm32f10x_pwr.h.24.98a178bf0c8fa18634174f1c1123c7bc
                           .group:00000000 wm4.stm32f10x_rcc.h.24.43948985157a0da383ddce718b66f782
                           .group:00000000 wm4.stm32f10x_rtc.h.24.496e77df0282a7f4dc79c6de18da3ecc
                           .group:00000000 wm4.stm32f10x_sdio.h.24.646055cc54873a75158b5d1015b409e6
                           .group:00000000 wm4.stm32f10x_spi.h.24.e7b2623920274a1745e534a7a7156e76
                           .group:00000000 wm4.stm32f10x_tim.h.24.24ac72f04686046a18ee9117ff7bba1f
                           .group:00000000 wm4.stm32f10x_usart.h.24.cf5f8d8e971fad2927ee799886f23b78
                           .group:00000000 wm4.stm32f10x_wwdg.h.24.7f7037b09db3a78d5a9de97b2cba748a
                           .group:00000000 wm4.misc.h.24.c54738789d48fd25c957e9d7c7349497
                           .group:00000000 wm4.stm32f10x.h.8349.9a0c7ea810a74ad6d06203f1a551aebb
                           .group:00000000 wm4.ieeefp.h.77.25247dc27dbe3b23bfe98c2dc18f6ac5
                           .group:00000000 wm4.newlib.h.8.4679f89e52c9f69cd44f3a27cd28c759
                           .group:00000000 wm4.config.h.224.79362c3cdb280fe0b8d95bd0bc4d5c54
                           .group:00000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:00000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:00000000 wm4.stddef.h.181.13772e73e5434e8cc4fafaaddad2b5da
                           .group:00000000 wm4.stddef.h.39.cf3ebec0bc8c9e3d2f276a64e0fe5e7a
                           .group:00000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:00000000 wm4.stddef.h.155.3588ebfdd1e8c7ede80509bb9c3b8009
                           .group:00000000 wm4._types.h.127.34941de1b2539d59d5cac00e0dd27a45
                           .group:00000000 wm4.reent.h.17.e292bf8b0bec6c96e131a54347145a30
                           .group:00000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:00000000 wm4.reent.h.77.32fd7d280fc2a40b0797abce5beaf6e3
                           .group:00000000 wm4.assert.h.11.db24e541f16414db224bf986d21017e2
                           .group:00000000 wm4.reent.h.504.40d20ade344680fbcb6a0178bf7ae09e
                           .group:00000000 wm4.cdefs.h.49.39045112216f6a021dbdffe3bf5accce
                           .group:00000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:00000000 wm4.stdlib.h.56.f4862cfbf4363a1db01842d5bdf72c18
                           .group:00000000 wm4.stdio.h.27.3fc80220048df77954e38daec3bb9670
                           .group:00000000 wm4.stddef.h.155.ba788add86a0e365f264484f110c3c29
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4.types.h.40.8b6acba56cefbb11746718204edc8f5e
                           .group:00000000 wm4._endian.h.31.65a10590763c3dde1ac4a7f66d7d4891
                           .group:00000000 wm4.endian.h.9.49f3a4695c1b61e8a0808de3c4a106cb
                           .group:00000000 wm4._timeval.h.32.bec3221fa7a9bb0bdde696c9c57e47d2
                           .group:00000000 wm4.timespec.h.41.d855182eb0e690443ab8651bcedca6e1
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 23


                           .group:00000000 wm4.select.h.19.40cd3f2bfc456b193b790c2754690ebf
                           .group:00000000 wm4.types.h.51.5571ec98f267d17d3c670b7a3ba33afa
                           .group:00000000 wm4.sched.h.22.c60982713a5c428609783c78f9c78d95
                           .group:00000000 wm4._pthreadtypes.h.36.fcee9961c35163dde6267ef772ad1972
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.81.60a2ded7dae310b81f9d6907fe5e3dbf
                           .group:00000000 wm4.stdarg.h.31.3fa7b8f6daaa31edd1696c08c77f2a73
                           .group:00000000 wm4.stdalign.h.27.0aad28df4d66a8553430227d1bac48aa
                           .group:00000000 wm4.ctype.h.34.80f174baaec468e2eb1c07380b0b3287
                           .group:00000000 wm4.inttypes.h.14.b28deb26920e51e0da310220ef0f9003
                           .group:00000000 wm4.inttypes.h.28.c3e61b48c6ae3a7cb62609add2dd53d1
                           .group:00000000 wm4.math.h.13.4f4c30988c5d76b6bf30dd7e2791b7c6
                           .group:00000000 wm4.syslimits.h.34.de5cbd310098bc5895998b6bde577ed2
                           .group:00000000 wm4.limits.h.9.70fb0ada6f71b16202a66baaa6d8ea70
                           .group:00000000 wm4.limits.h.60.56a1ae353e2028a24298ec6463b8b593
                           .group:00000000 wm4.string.h.8.c4b8571ce60dff2817f43fec8b86aecd
                           .group:00000000 wm4.basic.h.43.2d669d0e281f2a7583ad0da99046413d
                           .group:00000000 wm4.phy.h.43.a806668fd6b193a83e00fcf9e3814821
                           .group:00000000 wm4.structs.h.12.142e94c12fffe9b2bba6755d00a8ad91
                           .group:00000000 wm4.time.h.12.ca6eecf26198e1bc6166f71fd8292735
                           .group:00000000 wm4.initmacro.h.4.2927af5a543f65dade9f92f80a04dc35
                           .group:00000000 wm4.i2ccom.h.10.147b279fb90e839345ab35ddb589e0ce
                           .group:00000000 wm4.i2cstd.h.10.d432c3988f9748933a79fb991e070438
                           .group:00000000 wm4.i2c.h.24.666d2983f106290f51d8fe2e4e0034bc
                           .group:00000000 wm4.mpu6050.h.10.38cdb8b04d26be567bd69a6269d225c3
                           .group:00000000 wm4.uart.h.10.038a6d9ab9b8d6aefd66f3a92e73c3f1
                           .group:00000000 wm4.lcd.h.11.3a2e2f95e46d234fe99d1d3e8f20de18
                           .group:00000000 wm4.systemtask.h.12.296b6a27be8b79a110bf5281d2fc993a

UNDEFINED SYMBOLS
uart_data_is_available
uart_print
utoa
uart_println
uart_handle_frame
uart_reset_buffer
uart_state
rx_buffer_length
rx_buffer
uart_ticks
i2c_init_std
mpu6050_init
mpu6050_read
mpu6050_uart_print
uart_print_integer
i2c_uart_print
mpu6050_error_handle
mpu_settings
myMPU6050
keypad_scan
keypad_process
lcd_print_xy
lcd_print_uint8
lcd_print
lcd_update
relays
system_rtc
ARM GAS  C:\Users\SAMEER~1.ALM\AppData\Local\Temp\cctbRrVi.s 			page 24


gpio_toggle
blink_led
systemticks
